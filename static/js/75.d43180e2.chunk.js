(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[75],{1056:function(e,t,n){"use strict";var i=n(420);function a(){var e=Object(i.a)(["\n  margin-bottom: 36px;\n"]);return a=function(){return e},e}var r=n(421).a.h1(a());t.a=r},1057:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var i=n(420);function a(){var e=Object(i.a)(["\n  // padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n\n  // input {\n  //  font-variant: tabular-nums;\n  //   list-style: none;\n  //   font-feature-settings: 'tnum';\n  //   position: relative;\n  //   display: inline-block;\n  //   width: 100%;\n  //   min-width: 0;\n  //   padding: 4px 11px;\n  //   color: rgba(0, 0, 0, 0.65);\n  //   font-size: 14px;\n  //   line-height: 1.5715;\n  //   background-color: #fff;\n  //   background-image: none;\n  //   border: 1px solid #d9d9d9;\n  //   border-radius: 4px;\n  //   transition: all 0.3s;\n  // }\n"]);return a=function(){return e},e}var r=n(421).a.div(a()),c={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},s={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};t.a=r},1058:function(e,t,n){"use strict";var i=n(0),a=n(17),r=n(1952),c=n(1184),s=n(1054),o=n(6),l=n(1059),u=function(e){var t=e.label,n=e.name,u=e.hint,d=e.layout,b=e.size,m=e.type,j=e.placeholder,f=e.autoFocus,p=e.autoComplete,h=e.prefix,O=e.externalErrorMessage,x=e.required,g=e.addonAfter,v=e.maxLength,y=Object(s.d)(),q=y.setValue,R=y.watch,w=y.register,C=y.errors,F=y.formState,A=F.touched,D=F.isSubmitted;Object(o.useEffect)((function(){w({name:n})}),[w,n]);var N=l.a.errorMessage(n,C,A,D,O);return Object(a.jsx)(r.a.Item,Object(i.a)(Object(i.a)({},d),{},{label:t,required:x,validateStatus:N?"error":"success",help:N||u,children:Object(a.jsx)(c.a,{maxLength:v,id:n,name:n,type:m,value:R(n),onChange:function(t){q(n,t.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},size:b||void 0,placeholder:j||void 0,autoFocus:f||!1,autoComplete:p||void 0,prefix:h||void 0,addonAfter:g||void 0,style:{width:"100%"}})}))};u.defaultProps={layout:null,type:"text",required:!1},t.a=u},1059:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(14),a=n(15),r=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,n,i){var a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(r)return r;if(!i&&!n[e])return null;var c=t[e];return(null===c||void 0===c||null===(a=c[0])||void 0===a?void 0:a.message)||(null===c||void 0===c?void 0:c.message)||c||null}}]),e}()},1060:function(e,t,n){"use strict";var i=n(56),a=n(48),r=n(2),c=n(30),s=n.n(c),o={generic:function(e){return a.c().label(e)},string:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:function(e,t){return a.b().default(!1).label(e)},relationToOne:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray:function(e,t){t=t||{};var n=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return t.required&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return t.required&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files:function(e,t){t=t||{};var n=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(i.a)(t.options||[])));return t.required&&(n=n.required(Object(r.c)("validation.string.selected"))),n},email:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return e?s()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).test("is-date",Object(r.c)("validation.mixed.default"),(function(e){return!e||s()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?s()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=o},1061:function(e,t,n){"use strict";var i=n(420);function a(){var e=Object(i.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return a=function(){return e},e}var r=n(421).a.div(a());t.a=r},1063:function(e,t,n){"use strict";var i=n(17),a=n(1101),r=(n(6),n(201));t.a=function(e){var t=function(e){return e.length>1};return Object(i.jsx)(a.a,{children:e.items.map((function(e){return Object(i.jsx)(a.a.Item,{children:t(e)?Object(i.jsx)(r.a,{to:e[1],children:e[0]}):e[0]},e[0])}))})}},1077:function(e,t,n){"use strict";var i=n(17),a=n(1178);n(6);t.a=function(e){return Object(i.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(i.jsx)(a.a,{})})}},1097:function(e,t,n){"use strict";var i=n(0),a=n(17),r=n(1952),c=n(1184),s=n(1054),o=n(6),l=n(1059),u=function(e){var t=e.label,n=e.name,u=e.hint,d=e.layout,b=e.placeholder,m=e.autoFocus,j=e.autoComplete,f=e.prefix,p=e.required,h=e.rows,O=e.externalErrorMessage,x=e.maxLength,g=Object(s.d)(),v=g.register,y=g.errors,q=g.formState,R=q.touched,w=q.isSubmitted,C=g.setValue,F=g.watch,A=l.a.errorMessage(n,y,R,w,O),D=F(n);return Object(o.useEffect)((function(){v({name:n})}),[v,n]),Object(a.jsx)(r.a.Item,Object(i.a)(Object(i.a)({},d),{},{label:t,required:p,validateStatus:A?"error":"success",help:A||u,children:Object(a.jsx)(c.a.TextArea,{id:n,onChange:function(t){C(n,t.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},maxLength:x,value:D,placeholder:b||void 0,autoFocus:m||!1,autoComplete:j||void 0,prefix:f||void 0,rows:h,style:{width:"100%"}})}))};u.defaultProps={layout:null,required:!1,rows:4},t.a=u},1193:function(e,t,n){"use strict";var i=n(0),a=n(17),r=n(1952),c=n(1340),s=n(6),o=n(1059),l=n(1054),u=function(e){var t=e.label,n=e.name,u=e.hint,d=e.layout,b=e.size,m=e.externalErrorMessage,j=Object(l.d)(),f=j.register,p=j.errors,h=j.formState,O=h.touched,x=h.isSubmitted,g=j.setValue,v=j.watch;Object(s.useEffect)((function(){f({name:n})}),[f,n]);var y=o.a.errorMessage(n,p,O,x,m),q=y||u;return Object(a.jsx)(r.a.Item,Object(i.a)(Object(i.a)({},d),{},{label:t,validateStatus:y?"error":"success",help:q,children:Object(a.jsx)(c.a,{onChange:function(t){g(n,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},checked:v(n)||!1,size:b||void 0})}))};u.defaultProps={layout:null},t.a=u},2077:function(e,t,n){"use strict";n.r(t);var i=n(433),a=n(17),r=n(6),c=n(39),s=n(41),o=n(2),l=n(293),u=n(4),d=function(e){return e.statsDashboard.form},b=Object(u.a)([d],(function(e){return e.record})),m={selectInitLoading:Object(u.a)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(u.a)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:b,selectRaw:d},j=n(7),f=n(0),p=n(56),h=n(1103),O=n(1155),x=n(1192),g=n(1176),v=n(1177),y=n(1952),q=n(450),R=n(447),w=n(1054),C=n(1057),F=n(48),A=n(1060),D=n(1062),N=n(1058),E=n(1056),L=n(1193),S=n(1097),k=F.e().shape({show:A.a.boolean(Object(o.c)("entities.statsDashboard.fields.show"),{}),descriptionFR:A.a.string(Object(o.c)("entities.statsDashboard.fields.description"),{required:!0}),descriptionAR:A.a.string(Object(o.c)("entities.statsDashboard.fields.description"),{required:!0}),descriptionEN:A.a.string(Object(o.c)("entities.statsDashboard.fields.description"),{required:!0}),titleAR:A.a.string(Object(o.c)("entities.publication.fields.titleAR"),{required:!0}),titleFR:A.a.string(Object(o.c)("entities.publication.fields.titleFR"),{required:!0}),titleEN:A.a.string(Object(o.c)("titleEN"),{required:!1})}),M=function(e){var t=Object(r.useState)([{titleAR:"",descriptionAR:"",descriptionFR:"",descriptionEN:""}]),n=Object(i.a)(t,2),c=n[0],s=n[1],l=function(e,t){var n=Object(p.a)(c);n[t][e.target.name]=e.target.value,s(n)};console.log("newForm",c.length);var u=e.saveLoading,d=Object(r.useState)((function(){var t=e.record||{};return e.isEditing&&s(t.widgets),{show:t.show,titleAR:t.titleAR,titleFR:t.titleFR,titleEN:t.titleEN,descriptionFR:t.descriptionFR,descriptionAR:t.descriptionAR,descriptionEN:t.descriptionEN}})),b=Object(i.a)(d,1)[0],m=Object(w.c)({resolver:Object(D.yupResolver)(k),mode:"all",defaultValues:b}),j=function(t){var n;e.onSubmit(null===e||void 0===e||null===(n=e.record)||void 0===n?void 0:n.id,Object(f.a)(Object(f.a)({},t),{},{widgets:Object(f.a)({},c)}))};return Object(a.jsx)(C.a,{children:Object(a.jsxs)(w.a,Object(f.a)(Object(f.a)({},m),{},{children:[Object(a.jsxs)(g.a,{gutter:24,children:[Object(a.jsx)(v.a,{span:16,children:Object(a.jsx)(E.a,{children:e.title})}),Object(a.jsx)(v.a,{span:8,style:{textAlign:"end",paddingLeft:"100px",paddingRight:"0px"},children:Object(a.jsxs)(y.a.Item,Object(f.a)(Object(f.a)({className:"form-buttons"},C.c),{},{children:[Object(a.jsx)(q.a,{title:Object(o.c)("common.save"),children:Object(a.jsx)(R.a,{loading:u,type:"primary",onClick:m.handleSubmit(j),icon:Object(a.jsx)(h.a,{})})}),Object(a.jsx)(q.a,{title:Object(o.c)("common.reset"),children:Object(a.jsx)(R.a,{disabled:u,onClick:function(){Object.keys(b).forEach((function(e){m.setValue(e,b[e])}))},icon:Object(a.jsx)(O.a,{})})}),e.onCancel&&Object(a.jsx)(q.a,{title:Object(o.c)("common.cancel"),children:Object(a.jsx)(R.a,{disabled:u,onClick:function(){return e.onCancel()},icon:Object(a.jsx)(x.a,{})})})]}))})]}),Object(a.jsx)("form",{onSubmit:m.handleSubmit(j),children:Object(a.jsxs)("fieldset",{children:[Object(a.jsxs)("legend",{children:["\xa0 \xa0",Object(o.c)("common.informations")]}),Object(a.jsx)(L.a,{name:"show",label:Object(o.c)("entities.statsDashboard.fields.show"),layout:C.b}),Object(a.jsx)(N.a,{maxLength:30,name:"titleFR",label:Object(o.c)("entities.publication.fields.titleFR"),required:!0,layout:C.b,autoFocus:!0}),Object(a.jsx)(N.a,{maxLength:30,name:"titleAR",label:Object(o.c)("entities.publication.fields.titleAR"),required:!0,layout:C.b,autoFocus:!0}),Object(a.jsx)(N.a,{maxLength:30,name:"titleEN",label:Object(o.c)("entities.publication.fields.titleEN"),required:!0,layout:C.b,autoFocus:!0}),Object(a.jsx)(S.a,{maxLength:300,name:"descriptionAR",label:Object(o.c)("entities.statsDashboard.fields.descriptionAR"),required:!0,layout:C.b}),Object(a.jsx)(S.a,{maxLength:300,name:"descriptionFR",label:Object(o.c)("entities.statsDashboard.fields.descriptionFR"),required:!0,layout:C.b}),Object(a.jsx)(S.a,{maxLength:300,name:"descriptionEN",label:Object(o.c)("entities.statsDashboard.fields.descriptionEN"),required:!0,layout:C.b}),Object(a.jsxs)("div",{style:{display:"flex",paddingTop:5,paddingBottom:5,columnGap:2},children:[Object(a.jsx)("div",{style:{width:"16.66666667%"},children:Object(a.jsxs)("label",{htmlFor:"Videos",children:[" ",Object(o.c)("entities.statsDashboard.fields.widgets")]})}),Object(a.jsx)("div",{style:{width:"75%"},children:c.map((function(e,t){return Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",paddingBottom:15},className:"app__specification",children:Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{children:Object(o.c)("common.indice")}),Object(a.jsx)("input",{className:"ant-input",type:"number",name:"titleAR",value:e.titleAR,placeholder:Object(o.c)("entities.statsDashboard.fields.title"),onChange:function(e){return l(e,t)},style:{marginBottom:10}}),Object(a.jsx)("h4",{children:Object(o.c)("entities.actualite.fields.descriptionAR")}),Object(a.jsx)("textarea",{maxLength:30,className:"ant-input",name:"descriptionAR",value:e.descriptionAR,placeholder:Object(o.c)("entities.actualite.fields.descriptionAR"),onChange:function(e){return l(e,t)}})]}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{children:Object(o.c)("entities.actualite.fields.descriptionFR")}),Object(a.jsx)("textarea",{maxLength:30,className:"ant-input",name:"descriptionFR",value:e.descriptionFR,placeholder:Object(o.c)("entities.actualite.fields.descriptionFR"),onChange:function(e){return l(e,t)}})]})]}),t?Object(a.jsx)("div",{className:"input-group",children:Object(a.jsx)("button",{type:"button",className:"ant-btn ant-btn-warning ant-btn-icon-only",style:{marginLeft:20},onClick:function(){return function(e){var t=Object(p.a)(c);t.splice(e,1),s(t)}(t)},children:Object(a.jsx)("i",{className:"fa-sharp fa-solid fa-minus"})})}):Object(a.jsx)("div",{className:"input-group",style:{marginLeft:20},children:c.length<4?Object(a.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ant-btn-icon-only",onClick:function(){s([].concat(Object(p.a)(c),[{titleAR:"",descriptionAR:"",descriptionFR:"",descriptionEN:""}]))},children:Object(a.jsx)("i",{className:"fa-sharp fa-solid fa-plus"})}):null})]})},t+"div")}))})]})]})})]}))})},B=n(1061),Y=n(1063),I=n(1077);t.default=function(e){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),u=n[0],d=n[1],b=Object(c.d)(),f=Object(s.h)(),p=Object(c.e)(m.selectInitLoading),h=Object(c.e)(m.selectSaveLoading),O=Object(c.e)(m.selectRecord),x=Boolean(f.params.id),g=x?Object(o.c)("entities.statsDashboard.edit.title"):Object(o.c)("entities.statsDashboard.new.title");Object(r.useEffect)((function(){b(l.a.doInit(f.params.id)),d(!0)}),[b,f.params.id]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Y.a,{items:[[Object(o.c)("dashboard.menu"),"/"],[Object(o.c)("entities.statsDashboard.menu"),"/statsDashboard"],[g]]}),Object(a.jsxs)(B.a,{children:[p&&Object(a.jsx)(I.a,{}),u&&!p&&Object(a.jsx)(M,{title:g,saveLoading:h,record:O,isEditing:x,onSubmit:function(e,t,n,i,a){n&&(t.descriptionFR=n),i&&(t.descriptionAR=i),a&&(t.descriptionEN=a),b(x?l.a.doUpdate(e,t):l.a.doCreate(t))},onCancel:function(){return Object(j.b)().push("/statsDashboard")}})]})]})}}}]);