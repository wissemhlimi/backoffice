"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[755],{38213:function(e,t,n){var a=n(76747),i=n(86495),l=n(26319),s=n(71945),r=(0,a.P1)([i.Z.selectCurrentTenant,i.Z.selectCurrentUser],(function(e,t){return new l.Z(e,t).match(s.Z.values.actualiteRead)})),o=(0,a.P1)([i.Z.selectCurrentTenant,i.Z.selectCurrentUser],(function(e,t){return new l.Z(e,t).match(s.Z.values.actualiteEdit)})),c=(0,a.P1)([i.Z.selectCurrentTenant,i.Z.selectCurrentUser],(function(e,t){return new l.Z(e,t).match(s.Z.values.actualiteCreate)})),u=(0,a.P1)([i.Z.selectCurrentTenant,i.Z.selectCurrentUser],(function(e,t){return new l.Z(e,t).match(s.Z.values.actualiteImport)})),d={selectPermissionToRead:r,selectPermissionToEdit:o,selectPermissionToCreate:c,selectPermissionToDestroy:(0,a.P1)([i.Z.selectCurrentTenant,i.Z.selectCurrentUser],(function(e,t){return new l.Z(e,t).match(s.Z.values.actualiteDestroy)})),selectPermissionToImport:u};t.Z=d},43484:function(e,t,n){var a={selectLoading:(0,n(76747).P1)([function(e){return e.actualite.destroy}],(function(e){return Boolean(e.loading)}))};t.Z=a},50755:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var a=n(68197),i=n(59624),l=n(47313),s=n(10499),r=n(1413),o=n(29439),c=n(40765),u=n(12196),d=n(59491),Z=n(43270),g=n(45788),m=n(82018),f=n(46842),h=n(69138),x=n(6473),v=n(47590),j=n(67357),p=n(13586),y=n(40846),b=n(35432),C=n(56148),T=n(5544),w=n(34073),P=n(25803),R=n(46417),k=x.Ry().shape({title:v.Z.string((0,s.ag)("entities.actualite.fields.title")),description:v.Z.string((0,s.ag)("entities.actualite.fields.description")),dateRange:v.Z.dateRange((0,s.ag)("entities.actualite.fields.dateRange")),link:v.Z.string((0,s.ag)("entities.actualite.fields.link")),linkYoutube:v.Z.string((0,s.ag)("entities.actualite.fields.linkYoutube")),statut:v.Z.enumerator((0,s.ag)("entities.actualite.fields.statut"))}),S={title:null,description:null,dateRange:[],link:null,linkYoutube:null,statut:null},I={title:{label:(0,s.ag)("entities.actualite.fields.title"),render:y.Z.generic()},description:{label:(0,s.ag)("entities.actualite.fields.description"),render:y.Z.generic()},dateRange:{label:(0,s.ag)("entities.actualite.fields.dateRange"),render:y.Z.dateRange()},link:{label:(0,s.ag)("entities.actualite.fields.link"),render:y.Z.generic()},linkYoutube:{label:(0,s.ag)("entities.actualite.fields.linkYoutube"),render:y.Z.generic()},statut:{label:(0,s.ag)("entities.actualite.fields.statut"),render:y.Z.enumerator("entities.actualite.enumerators.statut")}},Y=function(e){var t=(0,g.I0)(),n=(0,g.v9)(f.Z.selectRawFilter),x=(0,l.useState)(!1),v=(0,o.Z)(x,2),y=v[0],Y=v[1],E=(0,l.useState)((function(){return(0,r.Z)((0,r.Z)({},S),n)})),F=(0,o.Z)(E,1)[0],U=(0,Z.cI)({resolver:(0,j.X)(k),defaultValues:F,mode:"all"});(0,l.useEffect)((function(){t(m.Z.doFetch(k.cast(F),n))}),[]);var D=function(e){var n=U.getValues();t(m.Z.doFetch(e,n)),Y(!1)},N=e.loading;return(0,R.jsx)(h.Z,{children:(0,R.jsx)(b.Z,{activeKey:y?"filter":void 0,expandIconPosition:"right",ghost:!0,onChange:function(e){Y(Boolean(e.length))},children:(0,R.jsx)(b.Z.Panel,{header:(0,R.jsx)(p.Z,{renders:I,values:n,expanded:y,onRemove:function(e){return U.setValue(e,S[e]),U.handleSubmit(D)()}}),children:(0,R.jsx)(Z.RV,(0,r.Z)((0,r.Z)({},U),{},{children:(0,R.jsxs)("form",{onSubmit:U.handleSubmit(D),children:[(0,R.jsxs)(a.Z,{gutter:24,children:[(0,R.jsx)(i.Z,{xs:24,md:24,lg:12,children:(0,R.jsx)(C.Z,{name:"title",label:(0,s.ag)("entities.actualite.fields.title"),layout:h.T})}),(0,R.jsx)(i.Z,{xs:24,md:24,lg:12,children:(0,R.jsx)(C.Z,{name:"description",label:(0,s.ag)("entities.actualite.fields.description"),layout:h.T})}),(0,R.jsx)(i.Z,{xs:24,md:24,lg:12,children:(0,R.jsx)(P.Z,{name:"dateRange",label:(0,s.ag)("entities.actualite.fields.dateRange"),layout:h.T})}),(0,R.jsx)(i.Z,{xs:24,md:24,lg:12,children:(0,R.jsx)(C.Z,{name:"link",label:(0,s.ag)("entities.actualite.fields.link"),layout:h.T})}),(0,R.jsx)(i.Z,{xs:24,md:24,lg:12,children:(0,R.jsx)(C.Z,{name:"linkYoutube",label:(0,s.ag)("entities.actualite.fields.linkYoutube"),layout:h.T})}),(0,R.jsx)(i.Z,{xs:24,md:24,lg:12,children:(0,R.jsx)(T.Z,{name:"statut",label:(0,s.ag)("entities.actualite.fields.statut"),options:w.Z.statut.map((function(e){return{value:e,label:(0,s.ag)("entities.actualite.enumerators.statut.".concat(e))}})),layout:h.T})})]}),(0,R.jsx)(a.Z,{children:(0,R.jsxs)(i.Z,{className:"filter-buttons",span:24,children:[(0,R.jsx)(d.Z,{loading:N,icon:(0,R.jsx)(c.Z,{rev:void 0}),type:"primary",htmlType:"submit",children:(0,s.ag)("common.search")}),(0,R.jsx)(d.Z,{loading:N,onClick:function(){Object.keys(S).forEach((function(e){U.setValue(e,S[e])})),t(m.Z.doReset()),Y(!1)},icon:(0,R.jsx)(u.Z,{rev:void 0}),children:(0,s.ag)("common.reset")})]})})]})}))},"filter")})})},E=n(96995),F=n(4927),U=n(72641),D=n(9647),N=n(43484),q=n(38213),V=n(28303),A=n(27216),B=n(82509),L=n(424),M=n(61850),H=function(e){var t=(0,g.I0)(),n=(0,g.v9)(f.Z.selectLoading),a=(0,g.v9)(N.Z.selectLoading),i=n||a,l=(0,g.v9)(f.Z.selectRows),r=(0,g.v9)(f.Z.selectPagination),o=(0,g.v9)(f.Z.selectSelectedKeys),c=(0,g.v9)(q.Z.selectPermissionToEdit),u=(0,g.v9)(q.Z.selectPermissionToDestroy),d=[{title:(0,s.ag)("entities.actualite.fields.titleFR"),sorter:!0,dataIndex:"titleFR"},{title:(0,s.ag)("entities.actualite.fields.titleAR"),sorter:!0,dataIndex:"titleAR"},{title:(0,s.ag)("entities.actualite.fields.titleEN"),sorter:!0,dataIndex:"titleEN"},{title:(0,s.ag)("entities.actualite.fields.date"),sorter:!0,dataIndex:"date"},{title:(0,s.ag)("entities.actualite.fields.statut"),sorter:!0,dataIndex:"statut",render:function(e){return e?(0,s.ag)("entities.actualite.enumerators.statut.".concat(e)):null}},{title:(0,s.ag)("entities.actualite.fields.attachements"),sorter:!1,dataIndex:"attachements",render:function(e){return(0,R.jsx)(M.Z,{value:e})}},{title:(0,s.ag)("entities.actualite.fields.image"),sorter:!1,dataIndex:"image",render:function(e){return(0,R.jsx)(L.Z,{value:e})}},{title:"",dataIndex:"",width:"160px",render:function(e,n){return(0,R.jsxs)("div",{className:"table-actions",children:[(0,R.jsx)(V.rU,{to:"/actualite/".concat(n.id),children:(0,R.jsx)(E.Z,{title:(0,s.ag)("common.view"),children:(0,R.jsx)("i",{className:"fa-regular fa-eye table-actions-icon"})})}),c&&(0,R.jsx)(V.rU,{to:"/actualite/".concat(n.id,"/edit"),children:(0,R.jsx)(E.Z,{title:(0,s.ag)("common.edit"),children:(0,R.jsx)("i",{className:"fa-regular fa-pen-to-square table-actions-icon"})})}),u&&(0,R.jsx)(F.Z,{title:(0,s.ag)("common.areYouSure"),onConfirm:function(){return e=n.id,void t(D.Z.doDestroy(e));var e},okText:(0,s.ag)("common.yes"),cancelText:(0,s.ag)("common.no"),children:(0,R.jsx)(B.Z,{children:(0,R.jsx)(E.Z,{title:(0,s.ag)("common.destroy"),children:(0,R.jsx)("i",{className:"fa-regular fa-trash-can table-actions-icon-destroy"})})})})]})}}];return(0,R.jsx)(A.Z,{children:(0,R.jsx)(U.Z,{rowKey:"id",loading:i,columns:d,dataSource:l,pagination:r,onChange:function(e,n,a){t(m.Z.doChangePaginationAndSort(e,a))},rowSelection:{selectedRowKeys:o,onChange:function(e){t(m.Z.doChangeSelected(e))}},scroll:{x:!0}})})},K=n(10419),z=n(23516),G=n(17551),O=function(e){var t=(0,g.I0)(),n=(0,g.v9)(f.Z.selectSelectedKeys),a=(0,g.v9)(f.Z.selectLoading),i=(0,g.v9)(N.Z.selectLoading),l=((0,g.v9)(f.Z.selectExportLoading),(0,g.v9)(f.Z.selectHasRows),(0,g.v9)(z.Z.selectPermissionToRead)),r=(0,g.v9)(q.Z.selectPermissionToDestroy),o=(0,g.v9)(q.Z.selectPermissionToCreate);(0,g.v9)(q.Z.selectPermissionToImport);return(0,R.jsxs)(K.Z,{children:[o&&(0,R.jsx)(V.rU,{to:"/actualite/new",children:(0,R.jsx)(E.Z,{title:(0,s.ag)("common.new"),children:(0,R.jsx)(d.Z,{type:"primary",children:(0,R.jsx)("i",{className:"fa-regular fa-square-plus"})})})}),function(){if(!r)return null;var e=!n.length||a,l=(0,R.jsx)(d.Z,{disabled:e,loading:i,type:"primary",children:(0,R.jsx)("i",{className:"fa-regular fa-trash-can"})}),o=(0,R.jsx)(F.Z,{title:(0,s.ag)("common.areYouSure"),onConfirm:function(){t(D.Z.doDestroyAll(n))},okText:(0,s.ag)("common.yes"),cancelText:(0,s.ag)("common.no"),children:l});return e?(0,R.jsx)(E.Z,{title:(0,s.ag)("common.mustSelectARow"),children:l}):o}(),l&&(0,R.jsx)(V.rU,{to:"/audit-logs?entityNames=actualite",children:(0,R.jsx)(E.Z,{title:(0,s.ag)("auditLog.menu"),children:(0,R.jsx)(d.Z,{icon:(0,R.jsx)(G.Z,{rev:void 0})})})}),void 0]})},_=n(27829),X=n(53852),J=n(75352),Q=function(e){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(X.Z,{items:[[(0,s.ag)("dashboard.menu"),"/"],[(0,s.ag)("entities.actualite.menu")]]}),(0,R.jsxs)(_.Z,{children:[(0,R.jsxs)(a.Z,{children:[(0,R.jsx)(i.Z,{span:16,children:(0,R.jsx)(J.Z,{children:(0,s.ag)("entities.actualite.list.title")})}),(0,R.jsx)(i.Z,{span:8,style:{textAlign:"end"},children:(0,R.jsx)(O,{})})]}),(0,R.jsx)(Y,{}),(0,R.jsx)(H,{})]})]})}},25803:function(e,t,n){var a=n(1413),i=n(59420),l=n(27083),s=n(47313),r=n(49384),o=n(43270),c=n(46417),u=function(e){var t=e.label,n=e.name,u=e.hint,d=e.layout,Z=e.autoFocus,g=e.showTime,m=e.required,f=e.externalErrorMessage,h=(0,o.Gc)(),x=h.register,v=h.errors,j=h.formState,p=j.touched,y=j.isSubmitted,b=h.setValue,C=h.watch;(0,s.useEffect)((function(){x({name:n})}),[x,n]);var T=r.Z.errorMessage(n,v,p,y,f);return(0,c.jsx)(i.Z.Item,(0,a.Z)((0,a.Z)({},d),{},{label:t,validateStatus:T?"error":"success",help:T||u,required:m,children:(0,c.jsx)(l.Z.RangePicker,{name:n,onChange:function(t){b(n,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:C(n),autoFocus:Z||!1,style:{width:"100%"},showTime:g?{format:"HH:mm"}:void 0,format:g?"YYYY-MM-DD HH:mm":void 0})}))};u.defaultProps={layout:null,showTime:!1},t.Z=u},5544:function(e,t,n){var a=n(1413),i=n(59420),l=n(61143),s=n(47313),r=n(49384),o=n(43270),c=n(46417),u=function(e){var t=e.label,n=e.name,u=e.hint,d=e.layout,Z=e.size,g=e.placeholder,m=e.options,f=e.mode,h=e.autoFocus,x=e.required,v=e.externalErrorMessage,j=e.optionFilterProp,p=(0,o.Gc)(),y=p.register,b=p.errors,C=p.formState,T=C.touched,w=C.isSubmitted,P=p.setValue,R=p.watch,k=r.Z.errorMessage(n,b,T,w,v),S=R(n);return(0,s.useEffect)((function(){y({name:n})}),[y,n]),(0,c.jsx)(i.Z.Item,(0,a.Z)((0,a.Z)({},d),{},{label:t,validateStatus:k?"error":"success",required:x,help:k||u,children:(0,c.jsx)(l.Z,{id:n,onChange:function(t){P(n,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:S,size:Z||void 0,placeholder:g||void 0,autoFocus:h||!1,mode:f||void 0,optionFilterProp:j||"children",allowClear:!0,style:{width:"100%"},children:m.map((function(e){return(0,c.jsx)(l.Z.Option,{value:e.value,title:e.title,children:e.label},e.value)}))})}))};u.defaultProps={layout:null,required:!1},t.Z=u},424:function(e,t,n){var a=n(72123),i=(n(47313),n(46417));t.Z=function(e){var t=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]};if(!t().length||!t()[0].downloadUrl)return(0,i.jsx)(a.C,{shape:"square",size:"large",icon:e.icon});var n=t()[0].downloadUrl;return(0,i.jsx)(a.C,{shape:"square",size:"large",src:n})}}}]);