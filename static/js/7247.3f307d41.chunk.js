"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7247],{79223:function(e,t,n){var r=n(76747),a=n(86495),s=n(26319),i=n(71945),l=(0,r.P1)([a.Z.selectCurrentTenant,a.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(i.Z.values.demandeAlerteRead)})),o=(0,r.P1)([a.Z.selectCurrentTenant,a.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(i.Z.values.demandeAlerteEdit)})),d=(0,r.P1)([a.Z.selectCurrentTenant,a.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(i.Z.values.demandeAlerteCreate)})),c=(0,r.P1)([a.Z.selectCurrentTenant,a.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(i.Z.values.demandeAlerteImport)})),u={selectPermissionToRead:l,selectPermissionToEdit:o,selectPermissionToCreate:d,selectPermissionToDestroy:(0,r.P1)([a.Z.selectCurrentTenant,a.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(i.Z.values.demandeAlerteDestroy)})),selectPermissionToImport:c};t.Z=u},62617:function(e,t,n){var r={selectLoading:(0,n(76747).P1)([function(e){return e.demandeAlerte.destroy}],(function(e){return Boolean(e.loading)}))};t.Z=r},67247:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(68197),a=n(59624),s=n(47313),i=n(10499),l=n(1413),o=n(29439),d=n(40765),c=n(12196),u=n(59491),m=n(43270),Z=n(45788),g=n(19757),f=n(80831),h=n(69138),x=n(6473),j=n(47590),v=n(67357),y=n(13586),A=n(40846),p=n(35432),T=n(56148),C=n(25803),b=n(46417),w=x.Ry().shape({createdAtRange:j.Z.dateRange((0,i.ag)("entities.mouvement.fields.createdAtRange")),sujet:j.Z.string((0,i.ag)("entities.demandeAlerte.fields.sujet")),contact:j.Z.string((0,i.ag)("entities.demandeAlerte.fields.contact"))}),P={createdAtRange:[],sujet:null,contact:null},R={createdAtRange:{label:(0,i.ag)("entities.mouvement.fields.createdAtRange"),render:A.Z.dateRange()},sujet:{label:(0,i.ag)("entities.demandeAlerte.fields.sujet"),render:A.Z.generic()},contact:{label:(0,i.ag)("entities.demandeAlerte.fields.contact"),render:A.Z.generic()}},S=function(e){var t=(0,Z.I0)(),n=(0,Z.v9)(f.Z.selectRawFilter),x=(0,s.useState)(!1),j=(0,o.Z)(x,2),A=j[0],S=j[1],I=(0,s.useState)((function(){return(0,l.Z)((0,l.Z)({},P),n)})),D=(0,o.Z)(I,1)[0],Y=(0,m.cI)({resolver:(0,v.X)(w),defaultValues:D,mode:"all"});(0,s.useEffect)((function(){t(g.Z.doFetch(w.cast(D),n))}),[]);var k=function(e){var n=Y.getValues();t(g.Z.doFetch(e,n)),S(!1)},U=e.loading;return(0,b.jsx)(h.Z,{children:(0,b.jsx)(p.Z,{activeKey:A?"filter":void 0,expandIconPosition:"right",ghost:!0,onChange:function(e){S(Boolean(e.length))},children:(0,b.jsx)(p.Z.Panel,{header:(0,b.jsx)(y.Z,{renders:R,values:n,expanded:A,onRemove:function(e){return Y.setValue(e,P[e]),Y.handleSubmit(k)()}}),children:(0,b.jsx)(m.RV,(0,l.Z)((0,l.Z)({},Y),{},{children:(0,b.jsxs)("form",{onSubmit:Y.handleSubmit(k),children:[(0,b.jsxs)(r.Z,{gutter:24,children:[(0,b.jsx)(a.Z,{xs:24,md:24,lg:12,children:(0,b.jsx)(C.Z,{name:"createdAtRange",label:(0,i.ag)("entities.mouvement.fields.createdAtRange"),layout:h.T})}),(0,b.jsx)(a.Z,{xs:24,md:24,lg:12,children:(0,b.jsx)(T.Z,{name:"sujet",label:(0,i.ag)("entities.demandeAlerte.fields.sujet"),layout:h.T})}),(0,b.jsx)(a.Z,{xs:24,md:24,lg:12,children:(0,b.jsx)(T.Z,{name:"contact",label:(0,i.ag)("entities.demandeAlerte.fields.contact"),layout:h.T})})]}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(a.Z,{className:"filter-buttons",span:24,children:[(0,b.jsx)(u.Z,{loading:U,icon:(0,b.jsx)(d.Z,{rev:void 0}),type:"primary",htmlType:"submit",children:(0,i.ag)("common.search")}),(0,b.jsx)(u.Z,{loading:U,onClick:function(){Object.keys(P).forEach((function(e){Y.setValue(e,P[e])})),t(g.Z.doReset()),S(!1)},icon:(0,b.jsx)(c.Z,{rev:void 0}),children:(0,i.ag)("common.reset")})]})})]})}))},"filter")})})},I=n(96995),D=n(4927),Y=n(72641),k=n(17213),U=n(62617),E=n(79223),N=n(28303),L=n(27216),V=n(82509),F=n(61850),M=n(70816),B=n.n(M),H=function(e){var t=(0,Z.I0)(),n=(0,Z.v9)(f.Z.selectLoading),r=(0,Z.v9)(U.Z.selectLoading),a=n||r,s=(0,Z.v9)(f.Z.selectRows),l=(0,Z.v9)(f.Z.selectPagination),o=(0,Z.v9)(f.Z.selectSelectedKeys),d=(0,Z.v9)(E.Z.selectPermissionToEdit),c=(0,Z.v9)(E.Z.selectPermissionToDestroy),u=[{title:(0,i.ag)("entities.demandeAppui.fields.createdAt"),sorter:!0,dataIndex:"createdAt",render:function(e){return e?B()(e).format("DD-MM-YYYY"):null}},{title:(0,i.ag)("entities.demandeAlerte.fields.sujet"),sorter:!0,dataIndex:"sujet"},{title:(0,i.ag)("entities.demandeAlerte.fields.contact"),sorter:!0,dataIndex:"contact"},{title:(0,i.ag)("entities.demandeAlerte.fields.files"),sorter:!1,dataIndex:"files",render:function(e){return(0,b.jsx)(F.Z,{value:e})}},{title:(0,i.ag)("entities.demandeAlerte.fields.media"),sorter:!1,dataIndex:"media",render:function(e){return(0,b.jsx)(F.Z,{value:e})}},{title:(0,i.ag)("entities.demandeAlerte.fields.audio"),sorter:!1,dataIndex:"audio",render:function(e){return(0,b.jsx)(F.Z,{value:e})}},{title:"",dataIndex:"",width:"160px",render:function(e,n){return(0,b.jsxs)("div",{className:"table-actions",children:[(0,b.jsx)(N.rU,{to:"/demande-alerte/".concat(n.id),children:(0,b.jsx)(I.Z,{title:(0,i.ag)("common.view"),children:(0,b.jsx)("i",{className:"fa-regular fa-eye table-actions-icon"})})}),d&&(0,b.jsx)(N.rU,{to:"/demande-alerte/".concat(n.id,"/edit"),children:(0,b.jsx)(I.Z,{title:(0,i.ag)("common.edit"),children:(0,b.jsx)("i",{className:"fa-regular fa-pen-to-square table-actions-icon"})})}),c&&(0,b.jsx)(D.Z,{title:(0,i.ag)("common.areYouSure"),onConfirm:function(){return e=n.id,void t(k.Z.doDestroy(e));var e},okText:(0,i.ag)("common.yes"),cancelText:(0,i.ag)("common.no"),children:(0,b.jsx)(V.Z,{children:(0,b.jsx)(I.Z,{title:(0,i.ag)("common.destroy"),children:(0,b.jsx)("i",{className:"fa-regular fa-trash-can table-actions-icon-destroy"})})})})]})}}];return(0,b.jsx)(L.Z,{children:(0,b.jsx)(Y.Z,{rowKey:"id",loading:a,columns:u,dataSource:s,pagination:l,onChange:function(e,n,r){t(g.Z.doChangePaginationAndSort(e,r))},rowSelection:{selectedRowKeys:o,onChange:function(e){t(g.Z.doChangeSelected(e))}},scroll:{x:!0}})})},K=n(10419),q=n(23516),_=n(17551),G=(n(46937).Z.Search,function(e){var t=(0,Z.I0)(),n=(0,Z.v9)(f.Z.selectSelectedKeys),r=(0,Z.v9)(f.Z.selectLoading),a=(0,Z.v9)(U.Z.selectLoading),s=((0,Z.v9)(f.Z.selectExportLoading),(0,Z.v9)(f.Z.selectHasRows),(0,Z.v9)(q.Z.selectPermissionToRead)),l=(0,Z.v9)(E.Z.selectPermissionToDestroy),o=(0,Z.v9)(E.Z.selectPermissionToCreate);(0,Z.v9)(E.Z.selectPermissionToImport);return(0,b.jsxs)(K.Z,{children:[o&&(0,b.jsx)(N.rU,{to:"/demande-alerte/new",children:(0,b.jsx)(I.Z,{title:(0,i.ag)("common.new"),children:(0,b.jsx)(u.Z,{type:"primary",children:(0,b.jsx)("i",{className:"fa-regular fa-square-plus"})})})}),function(){if(!l)return null;var e=!n.length||r,s=(0,b.jsx)(u.Z,{disabled:e,loading:a,type:"primary",children:(0,b.jsx)("i",{className:"fa-regular fa-trash-can"})}),o=(0,b.jsx)(D.Z,{title:(0,i.ag)("common.areYouSure"),onConfirm:function(){t(k.Z.doDestroyAll(n))},okText:(0,i.ag)("common.yes"),cancelText:(0,i.ag)("common.no"),children:s});return e?(0,b.jsx)(I.Z,{title:(0,i.ag)("common.mustSelectARow"),children:s}):o}(),s&&(0,b.jsx)(N.rU,{to:"/audit-logs?entityNames=demandeAlerte",children:(0,b.jsx)(I.Z,{title:(0,i.ag)("auditLog.menu"),children:(0,b.jsx)(u.Z,{icon:(0,b.jsx)(_.Z,{rev:void 0})})})}),void 0]})}),O=n(27829),X=n(53852),z=n(75352),J=function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Z,{items:[[(0,i.ag)("dashboard.menu"),"/"],[(0,i.ag)("entities.demandeAlerte.menu")]]}),(0,b.jsxs)(O.Z,{children:[(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(a.Z,{span:16,children:(0,b.jsx)(z.Z,{children:(0,i.ag)("entities.demandeAlerte.list.title")})}),(0,b.jsxs)(a.Z,{span:8,style:{textAlign:"end"},children:[" ",(0,b.jsx)(G,{})]})]}),(0,b.jsx)(S,{}),(0,b.jsx)(H,{})]})]})}},25803:function(e,t,n){var r=n(1413),a=n(59420),s=n(27083),i=n(47313),l=n(49384),o=n(43270),d=n(46417),c=function(e){var t=e.label,n=e.name,c=e.hint,u=e.layout,m=e.autoFocus,Z=e.showTime,g=e.required,f=e.externalErrorMessage,h=(0,o.Gc)(),x=h.register,j=h.errors,v=h.formState,y=v.touched,A=v.isSubmitted,p=h.setValue,T=h.watch;(0,i.useEffect)((function(){x({name:n})}),[x,n]);var C=l.Z.errorMessage(n,j,y,A,f);return(0,d.jsx)(a.Z.Item,(0,r.Z)((0,r.Z)({},u),{},{label:t,validateStatus:C?"error":"success",help:C||c,required:g,children:(0,d.jsx)(s.Z.RangePicker,{name:n,onChange:function(t){p(n,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:T(n),autoFocus:m||!1,style:{width:"100%"},showTime:Z?{format:"HH:mm"}:void 0,format:Z?"YYYY-MM-DD HH:mm":void 0})}))};c.defaultProps={layout:null,showTime:!1},t.Z=c}}]);