(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[76],{1041:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return l}));var r=t(410);function a(){var n=Object(r.a)(["\n  // padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n\n  // input {\n  //  font-variant: tabular-nums;\n  //   list-style: none;\n  //   font-feature-settings: 'tnum';\n  //   position: relative;\n  //   display: inline-block;\n  //   width: 100%;\n  //   min-width: 0;\n  //   padding: 4px 11px;\n  //   color: rgba(0, 0, 0, 0.65);\n  //   font-size: 14px;\n  //   line-height: 1.5715;\n  //   background-color: #fff;\n  //   background-image: none;\n  //   border: 1px solid #d9d9d9;\n  //   border-radius: 4px;\n  //   transition: all 0.3s;\n  // }\n"]);return a=function(){return n},n}var i=t(411).a.div(a()),u={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},l={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};e.a=i},1042:function(n,e,t){"use strict";var r=t(0),a=t(17),i=t(1916),u=t(1165),l=t(1038),o=t(6),c=t(1043),d=function(n){var e=n.label,t=n.name,d=n.hint,s=n.layout,m=n.size,f=n.type,b=n.placeholder,p=n.autoFocus,j=n.autoComplete,x=n.prefix,v=n.externalErrorMessage,g=n.required,h=n.addonAfter,O=n.maxLength,q=Object(l.d)(),y=q.setValue,w=q.watch,S=q.register,C=q.errors,Y=q.formState,L=Y.touched,M=Y.isSubmitted;Object(o.useEffect)((function(){S({name:t})}),[S,t]);var k=c.a.errorMessage(t,C,L,M,v);return Object(a.jsx)(i.a.Item,Object(r.a)(Object(r.a)({},s),{},{label:e,required:g,validateStatus:k?"error":"success",help:k||d,children:Object(a.jsx)(u.a,{maxLength:O,id:t,name:t,type:f,value:w(t),onChange:function(e){y(t,e.target.value,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(e.target.value)},onBlur:function(e){n.onBlur&&n.onBlur(e)},size:m||void 0,placeholder:b||void 0,autoFocus:p||!1,autoComplete:j||void 0,prefix:x||void 0,addonAfter:h||void 0,style:{width:"100%"}})}))};d.defaultProps={layout:null,type:"text",required:!1},e.a=d},1043:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var r=t(14),a=t(15),i=function(){function n(){Object(r.a)(this,n)}return Object(a.a)(n,null,[{key:"errorMessage",value:function(n,e,t,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!r&&!t[n])return null;var u=e[n];return(null===u||void 0===u||null===(a=u[0])||void 0===a?void 0:a.message)||(null===u||void 0===u?void 0:u.message)||u||null}}]),n}()},1044:function(n,e,t){"use strict";var r=t(56),a=t(48),i=t(2),u=t(30),l=t.n(u),o={generic:function(n){return a.c().label(n)},string:function(n,e){e=e||{};var t=a.h().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n);return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),e.matches&&(t=t.matches(e.matches)),t},boolean:function(n,e){return a.b().default(!1).label(n)},relationToOne:function(n,e){e=e||{};var t=a.c().nullable(!0).label(n).transform((function(n,e){return e?e.id:null}));return e.required&&(t=t.required()),t},stringArray:function(n,e){e=e||{};var t=a.a().compact().ensure().of(a.h().transform((function(n,e){return""===e?null:n})).trim()).label(n);return e.required&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},relationToMany:function(n,e){e=e||{};var t=a.a().nullable(!0).label(n).transform((function(n,e){return e&&e.length?e.map((function(n){return n.id})):[]}));return e.required&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},integer:function(n,e){e=e||{};var t=a.d().transform((function(n,e){return""===e?null:n})).integer().nullable(!0).label(n);return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),t},images:function(n,e){e=e||{};var t=a.a().nullable(!0).label(n);return(e.required||e.min)&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},files:function(n,e){e=e||{};var t=a.a().compact().ensure().nullable(!0).label(n);return(e.required||e.min)&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},enumerator:function(n,e){e=e||{};var t=a.h().transform((function(n,e){return""===e?null:n})).label(n).nullable(!0).oneOf([null].concat(Object(r.a)(e.options||[])));return e.required&&(t=t.required(Object(i.c)("validation.string.selected"))),t},email:function(n,e){e=e||{};var t=a.h().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n).email();return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),e.matches&&(t=t.matches(e.matches)),t},decimal:function(n,e){e=e||{};var t=a.d().transform((function(n,e){return""===e?null:n})).nullable(!0).label(n);return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),t},datetime:function(n,e){e=e||{};var t=a.c().nullable(!0).label(n).transform((function(n,e){return n?l()(e,"YYYY-MM-DD HH:mm").toISOString():null}));return e.required&&(t=t.required()),t},date:function(n,e){e=e||{};var t=a.c().nullable(!0).label(n).test("is-date",Object(i.c)("validation.mixed.default"),(function(n){return!n||l()(n,"YYYY-MM-DD").isValid()})).transform((function(n){return n?l()(n).format("YYYY-MM-DD"):null}));return e.required&&(t=t.required()),t}};e.a=o},1045:function(n,e,t){"use strict";var r=t(410);function a(){var n=Object(r.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return a=function(){return n},n}var i=t(411).a.div(a());e.a=i},1046:function(n,e,t){"use strict";var r=t(17),a=t(1084),i=(t(6),t(197));e.a=function(n){var e=function(n){return n.length>1};return Object(r.jsx)(a.a,{children:n.items.map((function(n){return Object(r.jsx)(a.a.Item,{children:e(n)?Object(r.jsx)(i.a,{to:n[1],children:n[0]}):n[0]},n[0])}))})}},1061:function(n,e,t){"use strict";var r=t(17),a=t(1164);t(6);e.a=function(n){return Object(r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(r.jsx)(a.a,{})})}},1526:function(n,e,t){"use strict";var r=t(4),a=function(n){return n.tenant.form},i=Object(r.a)([a],(function(n){return n.record})),u={selectInitLoading:Object(r.a)([a],(function(n){return Boolean(n.initLoading)})),selectSaveLoading:Object(r.a)([a],(function(n){return Boolean(n.saveLoading)})),selectRecord:i,selectRaw:a};e.a=u},2051:function(n,e,t){"use strict";t.r(e);var r=t(423),a=t(17),i=t(6),u=t(39),l=t(2),o=t(7),c=t(229),d=t(1526),s=t(1045),m=t(1046),f=t(0),b=t(1038),p=t(1041),j=t(1042),x=t(48),v=t(1044),g=t(51),h=t(38),O=t(1047),q=x.e().shape({name:v.a.string(Object(l.c)("tenant.fields.tenantName"),{required:!0,max:50}),url:v.a.string(Object(l.c)("tenant.fields.tenantUrl"),{required:!0,max:50}).matches(/^[a-z0-9][-a-zA-Z0-9]*$/,Object(l.c)("tenant.validation.url"))}),y=x.e().shape({name:v.a.string(Object(l.c)("tenant.fields.tenantName"),{required:!0,max:50})}),w=h.a.isEnabled?q:y,S=function(n){var e=Object(i.useState)((function(){return n.record||{name:""}})),t=Object(r.a)(e,1)[0],u=Object(b.c)({resolver:Object(O.yupResolver)(w),mode:"all",defaultValues:t});n.saveLoading;return Object(a.jsx)(p.a,{children:Object(a.jsx)(b.a,Object(f.a)(Object(f.a)({},u),{},{children:Object(a.jsxs)("form",{onSubmit:u.handleSubmit((function(e){var t;n.onSubmit(null===n||void 0===n||null===(t=n.record)||void 0===t?void 0:t.id,e)})),children:[Object(a.jsx)(j.a,{name:"name",label:Object(l.c)("tenant.fields.name"),required:!0,layout:p.b,autoFocus:!0}),h.a.isEnabled&&Object(a.jsx)(j.a,{name:"url",label:Object(l.c)("tenant.fields.url"),required:!0,layout:p.b,addonAfter:".".concat(g.a.frontendUrl.host)})]})}))})},C=t(41),Y=t(1061);e.default=function(n){var e=Object(u.d)(),t=Object(i.useState)(!1),f=Object(r.a)(t,2),b=f[0],p=f[1],j=Object(C.h)(),x=Object(u.e)(d.a.selectInitLoading),v=Object(u.e)(d.a.selectSaveLoading),g=Object(u.e)(d.a.selectRecord),h=Boolean(j.params.id);Object(i.useEffect)((function(){e(c.a.doInit(j.params.id)),p(!0)}),[e,h,j.params.id]);var O=h?Object(l.c)("tenant.edit.title"):Object(l.c)("tenant.new.title");return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{header:!0,items:[[Object(l.c)("tenant.menu"),"/tenant"],[O]]}),Object(a.jsxs)(s.a,{children:[x&&Object(a.jsx)(Y.a,{}),b&&!x&&Object(a.jsx)(S,{title:O,saveLoading:v,record:g,isEditing:h,onSubmit:function(n,t){e(h?c.a.doUpdate(n,t):c.a.doCreate(t))},onCancel:function(){return Object(o.b)().push("/tenant")}})]})]})}}}]);