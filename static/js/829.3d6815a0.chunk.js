"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[829],{15869:function(e,n,i){var s={selectLoading:(0,i(76747).P1)([function(e){return e.noyade.destroy}],(function(e){return Boolean(e.loading)}))};n.Z=s},50829:function(e,n,i){i.r(n),i.d(n,{default:function(){return W}});var s=i(47313),a=i(10499),t=i(1413),r=i(29439),l=i(40765),o=i(12196),d=i(68197),g=i(59624),c=i(59491),u=i(43270),m=i(45788),Z=i(2197),x=i(56479),b=i(69138),y=i(6473),f=i(47590),h=i(67357),j=i(13586),R=i(40846),T=i(35432),v=i(56148),E=i(53912),p=i(91859),P=i(89146),V=i(74509),C=i(46417),M=y.Ry().shape({lieuDebut:f.Z.relationToOne((0,a.ag)("entities.noyade.fields.lieuDebut")),lieuNoyade:f.Z.string((0,a.ag)("entities.noyade.fields.lieuNoyade")),nbreMigrantsTunisiensRange:f.Z.integerRange((0,a.ag)("entities.noyade.fields.nbreMigrantsTunisiensRange")),nbreMigrantsEtrangersRange:f.Z.integerRange((0,a.ag)("entities.noyade.fields.nbreMigrantsEtrangersRange")),nbreVictimesTunisiensRange:f.Z.integerRange((0,a.ag)("entities.noyade.fields.nbreVictimesTunisiensRange")),nbreVictimesEtrangersRange:f.Z.integerRange((0,a.ag)("entities.noyade.fields.nbreVictimesEtrangersRange")),nbrePerdusTunisiensRange:f.Z.integerRange((0,a.ag)("entities.noyade.fields.nbrePerdusTunisiensRange")),nbrePerdusEtrangersRange:f.Z.integerRange((0,a.ag)("entities.noyade.fields.nbrePerdusEtrangersRange")),source:f.Z.relationToOne((0,a.ag)("entities.noyade.fields.source")),migrationCause:f.Z.relationToOne((0,a.ag)("entities.noyade.fields.migrationCause"))}),N={lieuDebut:null,lieuNoyade:null,nbreMigrantsTunisiensRange:[],nbreMigrantsEtrangersRange:[],nbreVictimesTunisiensRange:[],nbreVictimesEtrangersRange:[],nbrePerdusTunisiensRange:[],nbrePerdusEtrangersRange:[],source:null,migrationCause:null},I={lieuDebut:{label:(0,a.ag)("entities.noyade.fields.lieuDebut"),render:R.Z.relationToOne()},lieuNoyade:{label:(0,a.ag)("entities.noyade.fields.lieuNoyade"),render:R.Z.generic()},nbreMigrantsTunisiensRange:{label:(0,a.ag)("entities.noyade.fields.nbreMigrantsTunisiensRange"),render:R.Z.range()},nbreMigrantsEtrangersRange:{label:(0,a.ag)("entities.noyade.fields.nbreMigrantsEtrangersRange"),render:R.Z.range()},nbreVictimesTunisiensRange:{label:(0,a.ag)("entities.noyade.fields.nbreVictimesTunisiensRange"),render:R.Z.range()},nbreVictimesEtrangersRange:{label:(0,a.ag)("entities.noyade.fields.nbreVictimesEtrangersRange"),render:R.Z.range()},nbrePerdusTunisiensRange:{label:(0,a.ag)("entities.noyade.fields.nbrePerdusTunisiensRange"),render:R.Z.range()},nbrePerdusEtrangersRange:{label:(0,a.ag)("entities.noyade.fields.nbrePerdusEtrangersRange"),render:R.Z.range()},source:{label:(0,a.ag)("entities.noyade.fields.source"),render:R.Z.relationToOne()},migrationCause:{label:(0,a.ag)("entities.noyade.fields.migrationCause"),render:R.Z.relationToOne()}},D=function(e){var n=(0,m.I0)(),i=(0,m.v9)(x.Z.selectRawFilter),y=(0,s.useState)(!1),f=(0,r.Z)(y,2),R=f[0],D=f[1],S=(0,s.useState)((function(){return(0,t.Z)((0,t.Z)({},N),i)})),w=(0,r.Z)(S,1)[0],k=(0,u.cI)({resolver:(0,h.X)(M),defaultValues:w,mode:"all"});(0,s.useEffect)((function(){n(Z.Z.doFetch(M.cast(w),i))}),[]);var L=function(e){var i=k.getValues();n(Z.Z.doFetch(e,i)),D(!1)},O=e.loading;return(0,C.jsx)(b.Z,{children:(0,C.jsx)(T.Z,{activeKey:R?"filter":void 0,expandIconPosition:"right",ghost:!0,onChange:function(e){D(Boolean(e.length))},children:(0,C.jsx)(T.Z.Panel,{header:(0,C.jsx)(j.Z,{renders:I,values:i,expanded:R,onRemove:function(e){return k.setValue(e,N[e]),k.handleSubmit(L)()}}),children:(0,C.jsx)(u.RV,(0,t.Z)((0,t.Z)({},k),{},{children:(0,C.jsxs)("form",{onSubmit:k.handleSubmit(L),children:[(0,C.jsxs)(d.Z,{gutter:24,children:[(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(p.Z,{name:"lieuDebut",label:(0,a.ag)("entities.noyade.fields.lieuDebut"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(v.Z,{name:"lieuNoyade",label:(0,a.ag)("entities.noyade.fields.lieuNoyade"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(E.Z,{name:"nbreMigrantsTunisiensRange",label:(0,a.ag)("entities.noyade.fields.nbreMigrantsTunisiensRange"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(E.Z,{name:"nbreMigrantsEtrangersRange",label:(0,a.ag)("entities.noyade.fields.nbreMigrantsEtrangersRange"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(E.Z,{name:"nbreVictimesTunisiensRange",label:(0,a.ag)("entities.noyade.fields.nbreVictimesTunisiensRange"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(E.Z,{name:"nbreVictimesEtrangersRange",label:(0,a.ag)("entities.noyade.fields.nbreVictimesEtrangersRange"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(E.Z,{name:"nbrePerdusTunisiensRange",label:(0,a.ag)("entities.noyade.fields.nbrePerdusTunisiensRange"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(E.Z,{name:"nbrePerdusEtrangersRange",label:(0,a.ag)("entities.noyade.fields.nbrePerdusEtrangersRange"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(P.Z,{name:"source",label:(0,a.ag)("entities.noyade.fields.source"),layout:b.T})}),(0,C.jsx)(g.Z,{xs:24,md:24,lg:12,children:(0,C.jsx)(V.Z,{name:"migrationCause",label:(0,a.ag)("entities.noyade.fields.migrationCause"),layout:b.T})})]}),(0,C.jsx)(d.Z,{children:(0,C.jsxs)(g.Z,{className:"filter-buttons",span:24,children:[(0,C.jsx)(c.Z,{loading:O,icon:(0,C.jsx)(l.Z,{rev:void 0}),type:"primary",htmlType:"submit",children:(0,a.ag)("common.search")}),(0,C.jsx)(c.Z,{loading:O,onClick:function(){Object.keys(N).forEach((function(e){k.setValue(e,N[e])})),n(Z.Z.doReset()),D(!1)},icon:(0,C.jsx)(o.Z,{rev:void 0}),children:(0,a.ag)("common.reset")})]})})]})}))},"filter")})})},S=i(96995),w=i(4927),k=i(72641),L=i(35679),O=i(15869),K=i(72512),A=i(28303),F=i(27216),U=i(82509),q=i(33738),B=function(e){var n=(0,m.I0)(),i=(0,m.v9)(x.Z.selectLoading),s=(0,m.v9)(O.Z.selectLoading),t=i||s,r=(0,m.v9)(x.Z.selectRows),l=(0,m.v9)(x.Z.selectPagination),o=(0,m.v9)(x.Z.selectSelectedKeys),d=(0,m.v9)(K.Z.selectPermissionToEdit),g=(0,m.v9)(K.Z.selectPermissionToDestroy),c=[{title:(0,a.ag)("entities.noyade.fields.lieuDebut"),sorter:!1,dataIndex:"lieuDebut",render:function(e){return(0,C.jsx)(q.Z,{value:e})}},{title:(0,a.ag)("entities.noyade.fields.lieuNoyade"),sorter:!0,dataIndex:"lieuNoyade"},{title:(0,a.ag)("entities.noyade.fields.nbreMigrantsTunisiens"),sorter:!0,dataIndex:"nbreMigrantsTunisiens",align:"right"},{title:(0,a.ag)("entities.noyade.fields.nbreMigrantsEtrangers"),sorter:!0,dataIndex:"nbreMigrantsEtrangers",align:"right"},{title:(0,a.ag)("entities.noyade.fields.nbreVictimesTunisiens"),sorter:!0,dataIndex:"nbreVictimesTunisiens",align:"right"},{title:(0,a.ag)("entities.noyade.fields.nbreVictimesEtrangers"),sorter:!0,dataIndex:"nbreVictimesEtrangers",align:"right"},{title:(0,a.ag)("entities.noyade.fields.nbrePerdusTunisiens"),sorter:!0,dataIndex:"nbrePerdusTunisiens",align:"right"},{title:(0,a.ag)("entities.noyade.fields.nbrePerdusEtrangers"),sorter:!0,dataIndex:"nbrePerdusEtrangers",align:"right"},{title:"",dataIndex:"",width:"160px",render:function(e,i){return(0,C.jsxs)("div",{className:"table-actions",children:[(0,C.jsx)(A.rU,{to:"/noyade/".concat(i.id),children:(0,C.jsx)(S.Z,{title:(0,a.ag)("common.view"),children:(0,C.jsx)("i",{className:"fa-regular fa-eye table-actions-icon"})})}),d&&(0,C.jsx)(A.rU,{to:"/noyade/".concat(i.id,"/edit"),children:(0,C.jsx)(S.Z,{title:(0,a.ag)("common.edit"),children:(0,C.jsx)("i",{className:"fa-regular fa-pen-to-square table-actions-icon"})})}),g&&(0,C.jsx)(w.Z,{title:(0,a.ag)("common.areYouSure"),onConfirm:function(){return e=i.id,void n(L.Z.doDestroy(e));var e},okText:(0,a.ag)("common.yes"),cancelText:(0,a.ag)("common.no"),children:(0,C.jsx)(U.Z,{children:(0,C.jsx)(S.Z,{title:(0,a.ag)("common.destroy"),children:(0,C.jsx)("i",{className:"fa-regular fa-trash-can table-actions-icon-destroy"})})})})]})}}];return(0,C.jsx)(F.Z,{children:(0,C.jsx)(k.Z,{rowKey:"id",loading:t,columns:c,dataSource:r,pagination:l,onChange:function(e,i,s){n(Z.Z.doChangePaginationAndSort(e,s))},rowSelection:{selectedRowKeys:o,onChange:function(e){n(Z.Z.doChangeSelected(e))}},scroll:{x:!0}})})},Y=i(10419),_=i(23516),H=i(24924),X=i(17551),z=function(e){var n=(0,m.I0)(),i=(0,m.v9)(x.Z.selectSelectedKeys),s=(0,m.v9)(x.Z.selectLoading),t=(0,m.v9)(O.Z.selectLoading),r=(0,m.v9)(x.Z.selectExportLoading),l=(0,m.v9)(x.Z.selectHasRows),o=(0,m.v9)(_.Z.selectPermissionToRead),d=(0,m.v9)(K.Z.selectPermissionToDestroy),g=(0,m.v9)(K.Z.selectPermissionToCreate),u=((0,m.v9)(K.Z.selectPermissionToImport),function(){n(Z.Z.doExport())});return(0,C.jsxs)(Y.Z,{children:[g&&(0,C.jsx)(A.rU,{to:"/noyade/new",children:(0,C.jsx)(S.Z,{title:(0,a.ag)("common.new"),children:(0,C.jsx)(c.Z,{type:"primary",children:(0,C.jsx)("i",{className:"fa-regular fa-square-plus"})})})}),function(){if(!d)return null;var e=!i.length||s,r=(0,C.jsx)(c.Z,{disabled:e,loading:t,type:"primary",children:(0,C.jsx)("i",{className:"fa-regular fa-trash-can"})}),l=(0,C.jsx)(w.Z,{title:(0,a.ag)("common.areYouSure"),onConfirm:function(){n(L.Z.doDestroyAll(i))},okText:(0,a.ag)("common.yes"),cancelText:(0,a.ag)("common.no"),children:r});return e?(0,C.jsx)(S.Z,{title:(0,a.ag)("common.mustSelectARow"),children:r}):l}(),o&&(0,C.jsx)(A.rU,{to:"/audit-logs?entityNames=noyade",children:(0,C.jsx)(S.Z,{title:(0,a.ag)("auditLog.menu"),children:(0,C.jsx)(c.Z,{icon:(0,C.jsx)(X.Z,{rev:void 0})})})}),function(){var e=!l||s,n=(0,C.jsx)(c.Z,{disabled:e,icon:(0,C.jsx)(H.Z,{rev:void 0}),onClick:u,loading:r,children:(0,a.ag)("common.export")});return e?(0,C.jsx)(S.Z,{title:(0,a.ag)("common.noDataToExport"),children:n}):n}()]})},G=i(27829),J=i(53852),Q=i(75352),W=function(e){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(J.Z,{items:[[(0,a.ag)("dashboard.menu"),"/"],[(0,a.ag)("entities.noyade.menu")]]}),(0,C.jsxs)(G.Z,{children:[(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(g.Z,{span:16,children:(0,C.jsx)(Q.Z,{children:(0,a.ag)("entities.noyade.list.title")})}),(0,C.jsx)(g.Z,{span:8,style:{textAlign:"end"},children:(0,C.jsx)(z,{})})]}),(0,C.jsx)(D,{}),(0,C.jsx)(B,{})]})]})}}}]);