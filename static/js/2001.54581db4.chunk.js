"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[2001],{89994:function(e,n,t){var i=t(93433),r=t(6473),a=t(10499),s=t(70816),l=t.n(s),o={generic:function(e){return r.nK().label(e)},string:function(e,n){n=n||{};var t=r.Z_().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},boolean:function(e,n){return r.Xg().default(!1).label(e)},relationToOne:function(e,n){n=n||{};var t=r.nK().nullable(!0).label(e).transform((function(e,n){return n?n.id:null}));return n.required&&(t=t.required()),t},stringArray:function(e,n){n=n||{};var t=r.IX().compact().ensure().of(r.Z_().transform((function(e,n){return""===n?null:e})).trim()).label(e);return n.required&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},relationToMany:function(e,n){n=n||{};var t=r.IX().nullable(!0).label(e).transform((function(e,n){return n&&n.length?n.map((function(e){return e.id})):[]}));return n.required&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},integer:function(e,n){n=n||{};var t=r.Rx().transform((function(e,n){return""===n?null:e})).integer().nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},images:function(e,n){n=n||{};var t=r.IX().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},files:function(e,n){n=n||{};var t=r.IX().compact().ensure().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},enumerator:function(e,n){n=n||{};var t=r.Z_().transform((function(e,n){return""===n?null:e})).label(e).nullable(!0).oneOf([null].concat((0,i.Z)(n.options||[])));return n.required&&(t=t.required((0,a.ag)("validation.string.selected"))),t},email:function(e,n){n=n||{};var t=r.Z_().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e).email();return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},decimal:function(e,n){n=n||{};var t=r.Rx().transform((function(e,n){return""===n?null:e})).nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},datetime:function(e,n){n=n||{};var t=r.nK().nullable(!0).label(e).transform((function(e,n){return e?l()(n,"YYYY-MM-DD HH:mm").toISOString():null}));return n.required&&(t=t.required()),t},date:function(e,n){n=n||{};var t=r.nK().nullable(!0).label(e).test("is-date",(0,a.ag)("validation.mixed.default"),(function(e){return!e||l()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?l()(e).format("YYYY-MM-DD"):null}));return n.required&&(t=t.required()),t}};n.Z=o},27829:function(e,n,t){var i,r=t(30168),a=t(44781).ZP.div(i||(i=(0,r.Z)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"])));n.Z=a},53852:function(e,n,t){var i=t(28709),r=(t(47313),t(28303)),a=t(46417);n.Z=function(e){var n=function(e){return e.length>1};return(0,a.jsx)(i.Z,{children:e.items.map((function(e){return(0,a.jsx)(i.Z.Item,{children:n(e)?(0,a.jsx)(r.rU,{to:e[1],children:e[0]}):e[0]},e[0])}))})}},61567:function(e,n,t){var i=t(72652),r=(t(47313),t(46417));n.Z=function(e){return(0,r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,r.jsx)(i.Z,{})})}},49384:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(15671),r=t(43144),a=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"errorMessage",value:function(e,n,t,i){var r,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(a)return a;if(!i&&!t[e])return null;var s=n[e];return(null===s||void 0===s||null===(r=s[0])||void 0===r?void 0:r.message)||(null===s||void 0===s?void 0:s.message)||s||null}}]),e}()},56148:function(e,n,t){var i=t(1413),r=t(59420),a=t(46937),s=t(43270),l=t(47313),o=t(49384),u=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.size,f=e.type,p=e.placeholder,h=e.autoFocus,g=e.autoComplete,x=e.prefix,b=e.externalErrorMessage,v=e.required,Z=e.addonAfter,j=e.maxLength,y=(0,s.Gc)(),R=y.setValue,q=y.watch,w=y.register,C=y.errors,F=y.formState,N=F.touched,E=F.isSubmitted;(0,l.useEffect)((function(){w({name:t})}),[w,t]);var A=o.Z.errorMessage(t,C,N,E,b);return(0,u.jsx)(r.Z.Item,(0,i.Z)((0,i.Z)({},c),{},{label:n,required:v,validateStatus:A?"error":"success",help:A||d,children:(0,u.jsx)(a.Z,{maxLength:j,id:t,name:t,type:f,value:q(t),onChange:function(n){R(t,n.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},size:m||void 0,placeholder:p||void 0,autoFocus:h||!1,autoComplete:g||void 0,prefix:x||void 0,addonAfter:Z||void 0,style:{width:"100%"}})}))};d.defaultProps={layout:null,type:"text",required:!1},n.Z=d},48895:function(e,n,t){var i=t(1413),r=t(59420),a=t(86345),s=t(47313),l=t(49384),o=t(43270),u=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.size,f=e.externalErrorMessage,p=(0,o.Gc)(),h=p.register,g=p.errors,x=p.formState,b=x.touched,v=x.isSubmitted,Z=p.setValue,j=p.watch;(0,s.useEffect)((function(){h({name:t})}),[h,t]);var y=l.Z.errorMessage(t,g,b,v,f),R=y||d;return(0,u.jsx)(r.Z.Item,(0,i.Z)((0,i.Z)({},c),{},{label:n,validateStatus:y?"error":"success",help:R,children:(0,u.jsx)(a.Z,{onChange:function(n){Z(t,n,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n)},checked:j(t)||!1,size:m||void 0})}))};d.defaultProps={layout:null},n.Z=d},30513:function(e,n,t){var i=t(1413),r=t(59420),a=t(46937),s=t(43270),l=t(47313),o=t(49384),u=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.placeholder,f=e.autoFocus,p=e.autoComplete,h=e.prefix,g=e.required,x=e.rows,b=e.externalErrorMessage,v=e.maxLength,Z=(0,s.Gc)(),j=Z.register,y=Z.errors,R=Z.formState,q=R.touched,w=R.isSubmitted,C=Z.setValue,F=Z.watch,N=o.Z.errorMessage(t,y,q,w,b),E=F(t);return(0,l.useEffect)((function(){j({name:t})}),[j,t]),(0,u.jsx)(r.Z.Item,(0,i.Z)((0,i.Z)({},c),{},{label:n,required:g,validateStatus:N?"error":"success",help:N||d,children:(0,u.jsx)(a.Z.TextArea,{id:t,onChange:function(n){C(t,n.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},maxLength:v,value:E,placeholder:m||void 0,autoFocus:f||!1,autoComplete:p||void 0,prefix:h||void 0,rows:x,style:{width:"100%"}})}))};d.defaultProps={layout:null,required:!1,rows:4},n.Z=d},68160:function(e,n,t){t.d(n,{I4:function(){return s},YT:function(){return l}});var i,r=t(30168),a=t(44781).ZP.div(i||(i=(0,r.Z)(["\n  // padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n\n  // input {\n  //  font-variant: tabular-nums;\n  //   list-style: none;\n  //   font-feature-settings: 'tnum';\n  //   position: relative;\n  //   display: inline-block;\n  //   width: 100%;\n  //   min-width: 0;\n  //   padding: 4px 11px;\n  //   color: rgba(0, 0, 0, 0.65);\n  //   font-size: 14px;\n  //   line-height: 1.5715;\n  //   background-color: #fff;\n  //   background-image: none;\n  //   border: 1px solid #d9d9d9;\n  //   border-radius: 4px;\n  //   transition: all 0.3s;\n  // }\n"]))),s={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},l={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};n.ZP=a},75352:function(e,n,t){var i,r=t(30168),a=t(44781).ZP.h1(i||(i=(0,r.Z)(["\n  margin-bottom: 36px;\n"])));n.Z=a},32001:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var i=t(29439),r=t(47313),a=t(45788),s=t(63830),l=t(10499),o=t(74980),u=t(76747),d=function(e){return e.statsDashboard.form},c=(0,u.P1)([d],(function(e){return e.record})),m={selectInitLoading:(0,u.P1)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,u.P1)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:c,selectRaw:d},f=t(37670),p=t(1413),h=t(93433),g=t(92350),x=t(12196),b=t(11829),v=t(68197),Z=t(59624),j=t(59420),y=t(96995),R=t(59491),q=t(43270),w=t(68160),C=t(6473),F=t(89994),N=t(67357),E=t(56148),A=t(75352),D=t(48895),I=t(30513),L=t(46417),S=C.Ry().shape({show:F.Z.boolean((0,l.ag)("entities.statsDashboard.fields.show"),{}),descriptionFR:F.Z.string((0,l.ag)("entities.statsDashboard.fields.description"),{required:!0}),descriptionAR:F.Z.string((0,l.ag)("entities.statsDashboard.fields.description"),{required:!0}),descriptionEN:F.Z.string((0,l.ag)("entities.statsDashboard.fields.description"),{required:!0}),titleAR:F.Z.string((0,l.ag)("entities.publication.fields.titleAR"),{required:!0}),titleFR:F.Z.string((0,l.ag)("entities.publication.fields.titleFR"),{required:!0}),titleEN:F.Z.string((0,l.ag)("titleEN"),{required:!0})}),k=function(e){var n=(0,r.useState)([{titleAR:"",descriptionAR:"",descriptionFR:"",descriptionEN:""}]),t=(0,i.Z)(n,2),a=t[0],s=t[1],o=function(e,n){var t=(0,h.Z)(a);t[n][e.target.name]=e.target.value,s(t)},u=e.saveLoading,d=(0,r.useState)((function(){var n=e.record||{};return e.isEditing&&s(n.widgets),{show:n.show,titleAR:n.titleAR,titleFR:n.titleFR,titleEN:n.titleEN,descriptionFR:n.descriptionFR,descriptionAR:n.descriptionAR,descriptionEN:n.descriptionEN}})),c=(0,i.Z)(d,1)[0],m=(0,q.cI)({resolver:(0,N.X)(S),mode:"all",defaultValues:c}),f=function(n){var t;e.onSubmit(null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.id,(0,p.Z)((0,p.Z)({},n),{},{widgets:(0,p.Z)({},a)}))};return(0,L.jsx)(w.ZP,{children:(0,L.jsxs)(q.RV,(0,p.Z)((0,p.Z)({},m),{},{children:[(0,L.jsxs)(v.Z,{gutter:24,children:[(0,L.jsx)(Z.Z,{span:16,children:(0,L.jsx)(A.Z,{children:e.title})}),(0,L.jsx)(Z.Z,{span:8,style:{textAlign:"end",paddingLeft:"100px",paddingRight:"0px"},children:(0,L.jsxs)(j.Z.Item,(0,p.Z)((0,p.Z)({className:"form-buttons"},w.YT),{},{children:[(0,L.jsx)(y.Z,{title:(0,l.ag)("common.save"),children:(0,L.jsx)(R.Z,{loading:u,type:"primary",onClick:m.handleSubmit(f),icon:(0,L.jsx)(g.Z,{rev:void 0})})}),(0,L.jsx)(y.Z,{title:(0,l.ag)("common.reset"),children:(0,L.jsx)(R.Z,{disabled:u,onClick:function(){Object.keys(c).forEach((function(e){m.setValue(e,c[e])}))},icon:(0,L.jsx)(x.Z,{rev:void 0})})}),e.onCancel&&(0,L.jsx)(y.Z,{title:(0,l.ag)("common.cancel"),children:(0,L.jsx)(R.Z,{disabled:u,onClick:function(){return e.onCancel()},icon:(0,L.jsx)(b.Z,{rev:void 0})})})]}))})]}),(0,L.jsx)("form",{onSubmit:m.handleSubmit(f),children:(0,L.jsxs)("fieldset",{children:[(0,L.jsxs)("legend",{children:["\xa0 \xa0",(0,l.ag)("common.informations")]}),(0,L.jsx)(D.Z,{name:"show",label:(0,l.ag)("entities.statsDashboard.fields.show"),layout:w.I4}),(0,L.jsx)(E.Z,{maxLength:30,name:"titleFR",label:(0,l.ag)("entities.publication.fields.titleFR"),required:!0,layout:w.I4,autoFocus:!0}),(0,L.jsx)(E.Z,{maxLength:30,name:"titleAR",label:(0,l.ag)("entities.publication.fields.titleAR"),required:!0,layout:w.I4,autoFocus:!0}),(0,L.jsx)(E.Z,{maxLength:30,name:"titleEN",label:(0,l.ag)("entities.publication.fields.titleEN"),required:!0,layout:w.I4,autoFocus:!0}),(0,L.jsx)(I.Z,{maxLength:300,name:"descriptionAR",label:(0,l.ag)("entities.statsDashboard.fields.descriptionAR"),required:!0,layout:w.I4}),(0,L.jsx)(I.Z,{maxLength:300,name:"descriptionFR",label:(0,l.ag)("entities.statsDashboard.fields.descriptionFR"),required:!0,layout:w.I4}),(0,L.jsx)(I.Z,{maxLength:300,name:"descriptionEN",label:(0,l.ag)("entities.statsDashboard.fields.descriptionEN"),required:!0,layout:w.I4}),(0,L.jsxs)("div",{style:{display:"flex",paddingTop:5,paddingBottom:5,columnGap:2},children:[(0,L.jsx)("div",{style:{width:"16.66666667%"},children:(0,L.jsxs)("label",{htmlFor:"Videos",children:[" ",(0,l.ag)("entities.statsDashboard.fields.widgets")]})}),(0,L.jsx)("div",{style:{width:"75%"},children:a.map((function(e,n){return(0,L.jsx)("div",{style:{display:"flex",flexDirection:"column",paddingBottom:15},className:"app__specification",children:(0,L.jsxs)("div",{style:{display:"flex"},children:[(0,L.jsxs)("div",{style:{width:"100%"},children:[(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h4",{children:(0,l.ag)("common.indice")}),(0,L.jsx)("input",{className:"ant-input",type:"number",name:"titleAR",value:e.titleAR,placeholder:(0,l.ag)("entities.statsDashboard.fields.title"),onChange:function(e){return o(e,n)},style:{marginBottom:10}}),(0,L.jsx)("h4",{children:(0,l.ag)("entities.actualite.fields.descriptionAR")}),(0,L.jsx)("textarea",{maxLength:30,className:"ant-input",name:"descriptionAR",value:e.descriptionAR,placeholder:(0,l.ag)("entities.actualite.fields.descriptionAR"),onChange:function(e){return o(e,n)}})]}),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h4",{children:(0,l.ag)("entities.actualite.fields.descriptionFR")}),(0,L.jsx)("textarea",{maxLength:30,className:"ant-input",name:"descriptionFR",value:e.descriptionFR,placeholder:(0,l.ag)("entities.actualite.fields.descriptionFR"),onChange:function(e){return o(e,n)}})]}),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h4",{children:(0,l.ag)("entities.actualite.fields.descriptionEN")}),(0,L.jsx)("textarea",{maxLength:30,className:"ant-input",name:"descriptionEN",value:e.descriptionEN,placeholder:(0,l.ag)("entities.actualite.fields.descriptionEN"),onChange:function(e){return o(e,n)}})]})]}),n?(0,L.jsx)("div",{className:"input-group",children:(0,L.jsx)("button",{type:"button",className:"ant-btn ant-btn-warning ant-btn-icon-only",style:{marginLeft:20},onClick:function(){return function(e){var n=(0,h.Z)(a);n.splice(e,1),s(n)}(n)},children:(0,L.jsx)("i",{className:"fa-sharp fa-solid fa-minus"})})}):(0,L.jsx)("div",{className:"input-group",style:{marginLeft:20},children:a.length<4?(0,L.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ant-btn-icon-only",onClick:function(){s([].concat((0,h.Z)(a),[{titleAR:"",descriptionAR:"",descriptionFR:"",descriptionEN:""}]))},children:(0,L.jsx)("i",{className:"fa-sharp fa-solid fa-plus"})}):null})]})},n+"div")}))})]})]})})]}))})},B=t(27829),M=t(53852),Y=t(61567),P=function(e){var n=(0,r.useState)(!1),t=(0,i.Z)(n,2),u=t[0],d=t[1],c=(0,a.I0)(),p=(0,s.$B)(),h=(0,a.v9)(m.selectInitLoading),g=(0,a.v9)(m.selectSaveLoading),x=(0,a.v9)(m.selectRecord),b=Boolean(p.params.id),v=b?(0,l.ag)("entities.statsDashboard.edit.title"):(0,l.ag)("entities.statsDashboard.new.title");(0,r.useEffect)((function(){c(o.Z.doInit(p.params.id)),d(!0)}),[c,p.params.id]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(M.Z,{items:[[(0,l.ag)("dashboard.menu"),"/"],[(0,l.ag)("entities.statsDashboard.menu"),"/statsDashboard"],[v]]}),(0,L.jsxs)(B.Z,{children:[h&&(0,L.jsx)(Y.Z,{}),u&&!h&&(0,L.jsx)(k,{title:v,saveLoading:g,record:x,isEditing:b,onSubmit:function(e,n,t,i,r){t&&(n.descriptionFR=t),i&&(n.descriptionAR=i),r&&(n.descriptionEN=r),c(b?o.Z.doUpdate(e,n):o.Z.doCreate(n))},onCancel:function(){return(0,f.s1)().push("/statsDashboard")}})]})]})}}}]);