"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[8863],{28863:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var i=t(29439),a=t(47313),o=t(45788),r=t(63830),u=t(10499),s=t(54374),d=t(76747),c=function(e){return e.mouvement.form},f=(0,d.P1)([c],(function(e){return e.record})),l={selectInitLoading:(0,d.P1)([c],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,d.P1)([c],(function(e){return Boolean(e.saveLoading)})),selectRecord:f,selectRaw:c},m=t(37670),v=t(90839),g=t(27829),p=t(53852),h=t(61567),x=t(70816),Z=t.n(x),j=t(46417),L=function(e){var n=(0,a.useState)(!1),t=(0,i.Z)(n,2),d=t[0],c=t[1],f=(0,o.I0)(),x=(0,r.$B)(),L=(0,o.v9)(l.selectInitLoading),b=(0,o.v9)(l.selectSaveLoading),C=(0,o.v9)(l.selectRecord),w=Boolean(x.params.id),B=w?(0,u.ag)("entities.mouvement.edit.title"):(0,u.ag)("entities.mouvement.new.title");(0,a.useEffect)((function(){f(s.Z.doInit(x.params.id)),c(!0)}),[f,x.params.id]);var D=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD",i=function(e){return Z()(e.split(/\D+/),t)};return i(n).diff(i(e),"days")+1};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.Z,{items:[[(0,u.ag)("dashboard.menu"),"/"],[(0,u.ag)("entities.mouvement.menu"),"/mouvement"],[B]]}),(0,j.jsxs)(g.Z,{children:[L&&(0,j.jsx)(h.Z,{}),d&&!L&&(0,j.jsx)(v.Z,{title:B,saveLoading:b,record:C,isEditing:w,onSubmit:function(e,n){var t=Z()().format();n.coefficient=n.dateFin?D(n.dateDebut,n.dateFin):D(n.dateDebut,t),f(w?s.Z.doUpdate(e,n):s.Z.doCreate(n))},onCancel:function(){return(0,m.s1)().push("/mouvement")}})]})]})}},61567:function(e,n,t){var i=t(72652),a=(t(47313),t(46417));n.Z=function(e){return(0,a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,a.jsx)(i.Z,{})})}}}]);