(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[65],{1031:function(e,t,n){"use strict";var r=n(405);function a(){var e=Object(r.a)(["\n  margin-bottom: 36px;\n"]);return a=function(){return e},e}var i=n(406).a.h1(a());t.a=i},1032:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(405);function a(){var e=Object(r.a)(["\n  // padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n\n  // input {\n  //  font-variant: tabular-nums;\n  //   list-style: none;\n  //   font-feature-settings: 'tnum';\n  //   position: relative;\n  //   display: inline-block;\n  //   width: 100%;\n  //   min-width: 0;\n  //   padding: 4px 11px;\n  //   color: rgba(0, 0, 0, 0.65);\n  //   font-size: 14px;\n  //   line-height: 1.5715;\n  //   background-color: #fff;\n  //   background-image: none;\n  //   border: 1px solid #d9d9d9;\n  //   border-radius: 4px;\n  //   transition: all 0.3s;\n  // }\n"]);return a=function(){return e},e}var i=n(406).a.div(a()),c={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},u={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};t.a=i},1034:function(e,t,n){"use strict";var r=n(56),a=n(48),i=n(2),c=n(30),u=n.n(c),o={generic:function(e){return a.c().label(e)},string:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:function(e,t){return a.b().default(!1).label(e)},relationToOne:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray:function(e,t){t=t||{};var n=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return t.required&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return t.required&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files:function(e,t){t=t||{};var n=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(t.options||[])));return t.required&&(n=n.required(Object(i.c)("validation.string.selected"))),n},email:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return e?u()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).test("is-date",Object(i.c)("validation.mixed.default"),(function(e){return!e||u()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?u()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=o},1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(15),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!r&&!n[e])return null;var c=t[e];return(null===c||void 0===c||null===(a=c[0])||void 0===a?void 0:a.message)||(null===c||void 0===c?void 0:c.message)||c||null}}]),e}()},1037:function(e,t,n){"use strict";var r=n(405);function a(){var e=Object(r.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return a=function(){return e},e}var i=n(406).a.div(a());t.a=i},1038:function(e,t,n){"use strict";var r=n(17),a=n(1076),i=(n(6),n(195));t.a=function(e){var t=function(e){return e.length>1};return Object(r.jsx)(a.a,{children:e.items.map((function(e){return Object(r.jsx)(a.a.Item,{children:t(e)?Object(r.jsx)(i.a,{to:e[1],children:e[0]}):e[0]},e[0])}))})}},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(25),a=n(6);function i(e){var t=a.useRef();return t.current=e,a.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[])}var c,u=n(288),o=Object(u.a)()?a.useLayoutEffect:a.useEffect,l=o;function s(e){return void 0!==e}function d(e,t){var n=t||{},u=n.defaultValue,d=n.value,f=n.onChange,m=n.postState,b=function(e){var t=a.useRef(!1),n=a.useState(e),i=Object(r.a)(n,2),c=i[0],u=i[1];return a.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[c,function(e,n){n&&t.current||u(e)}]}((function(){var t,n=void 0;return s(d)?(n=d,t=c.PROP):s(u)?(n="function"===typeof u?u():u,t=c.PROP):(n="function"===typeof e?e():e,t=c.INNER),[n,t,n]})),j=Object(r.a)(b,2),p=j[0],v=j[1],O=s(d)?d:p[0],x=m?m(O):O;!function(e,t){var n=a.useRef(!0);o((function(){if(!n.current)return e()}),t),o((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){v((function(e){var t=Object(r.a)(e,1)[0];return[d,c.PROP,t]}))}),[d]);var h=a.useRef(),g=i((function(e,t){v((function(t){var n=Object(r.a)(t,3),a=n[0],i=n[1],u=n[2],o="function"===typeof e?e(a):e;if(o===a)return t;var l=i===c.INNER&&h.current!==u?u:a;return[o,c.INNER,l]}),t)})),y=i(f);return l((function(){var e=Object(r.a)(p,3),t=e[0],n=e[1],a=e[2];t!==a&&n===c.INNER&&(y(t,a),h.current=a)}),[p]),[x,g]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(c||(c={}))},1046:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(1079))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1052:function(e,t,n){"use strict";var r=n(17),a=n(1156);n(6);t.a=function(e){return Object(r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(r.jsx)(a.a,{})})}},1075:function(e,t,n){"use strict";var r=n(0),a=n(17),i=n(1908),c=n(1155),u=n(1029),o=n(6),l=n(1035),s=function(e){var t=e.label,n=e.name,s=e.hint,d=e.layout,f=e.placeholder,m=e.autoFocus,b=e.autoComplete,j=e.prefix,p=e.required,v=e.rows,O=e.externalErrorMessage,x=e.maxLength,h=Object(u.d)(),g=h.register,y=h.errors,q=h.formState,C=q.touched,w=q.isSubmitted,M=h.setValue,R=h.watch,S=l.a.errorMessage(n,y,C,w,O),E=R(n);return Object(o.useEffect)((function(){g({name:n})}),[g,n]),Object(a.jsx)(i.a.Item,Object(r.a)(Object(r.a)({},d),{},{label:t,required:p,validateStatus:S?"error":"success",help:S||s,children:Object(a.jsx)(c.a.TextArea,{id:n,onChange:function(t){M(n,t.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},maxLength:x,value:E,placeholder:f||void 0,autoFocus:m||!1,autoComplete:b||void 0,prefix:j||void 0,rows:v,style:{width:"100%"}})}))};s.defaultProps={layout:null,required:!1,rows:4},t.a=s},1079:function(e,t,n){"use strict";var r=n(116),a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(114)),c=r(n(6)),u=a(n(1080)),o=a(n(140)),l=function(e,t){return c.createElement(o.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};l.displayName="DownOutlined";var s=c.forwardRef(l);t.default=s},1080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},1086:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(1204))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1153:function(e,t,n){"use strict";var r=n(1505);t.a=r.a},1154:function(e,t,n){"use strict";var r=n(1436);t.a=r.a},1204:function(e,t,n){"use strict";var r=n(116),a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(114)),c=r(n(6)),u=a(n(1205)),o=a(n(140)),l=function(e,t){return c.createElement(o.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};l.displayName="SearchOutlined";var s=c.forwardRef(l);t.default=s},1205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},1421:function(e,t,n){"use strict";var r=n(0),a=n(17),i=n(1908),c=n(1445),u=n.n(c),o=n(6),l=n(1035),s=n(1029),d=function(e){var t=e.label,n=e.name,c=e.hint,d=e.layout,f=e.options,m=e.externalErrorMessage,b=e.required,j=Object(s.d)(),p=j.register,v=j.errors,O=j.formState,x=O.touched,h=O.isSubmitted,g=j.setValue,y=j.watch;Object(o.useEffect)((function(){p({name:n})}),[p,n]);var q=l.a.errorMessage(n,v,x,h,m),C=q||c;return Object(a.jsx)(i.a.Item,Object(r.a)(Object(r.a)({},d),{},{label:t,validateStatus:q?"error":"success",required:b,help:C,children:Object(a.jsx)(u.a,{id:n,onChange:function(t){g(n,t.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.target.value)},options:f,value:y(n)||""})}))};d.defaultProps={layout:null,required:!1},t.a=d},2035:function(e,t,n){"use strict";n.r(t);var r=n(418),a=n(17),i=n(6),c=n(39),u=n(41),o=n(2),l=n(282),s=n(4),d=function(e){return e.contact.form},f=Object(s.a)([d],(function(e){return e.record})),m={selectInitLoading:Object(s.a)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(s.a)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:f,selectRaw:d},b=n(7),j=n(0),p=n(1081),v=n(1130),O=n(1168),x=n(1153),h=n(1154),g=n(1908),y=n(435),q=n(432),C=n(1029),w=n(1032),M=n(48),R=n(1034),S=n(1036),E=n(1075),P=n(1421),_=n(592),I=n(1031),N=M.e().shape({type:R.a.enumerator(Object(o.c)("entities.contact.fields.type"),{options:_.a.type}),sender:R.a.enumerator(Object(o.c)("entities.contact.fields.sender"),{options:_.a.sender}),explication:R.a.string(Object(o.c)("entities.contact.fields.explication"),{required:!1})}),L=function(e){var t=Object(i.useState)((function(){var t=e.record||{};return{type:t.type,sender:t.sender,explication:t.explication}})),n=Object(r.a)(t,1)[0],c=Object(C.c)({resolver:Object(S.yupResolver)(N),mode:"all",defaultValues:n}),u=function(t){var n;e.onSubmit(null===e||void 0===e||null===(n=e.record)||void 0===n?void 0:n.id,t)},l=e.saveLoading;return Object(a.jsx)(w.a,{children:Object(a.jsx)(C.a,Object(j.a)(Object(j.a)({},c),{},{children:Object(a.jsxs)("form",{onSubmit:c.handleSubmit(u),children:[Object(a.jsxs)(x.a,{gutter:24,children:[Object(a.jsx)(h.a,{span:16,children:Object(a.jsx)(I.a,{children:e.title})}),Object(a.jsx)(h.a,{span:8,style:{textAlign:"end",paddingLeft:"100px",paddingRight:"0px"},children:Object(a.jsxs)(g.a.Item,Object(j.a)(Object(j.a)({className:"form-buttons"},w.c),{},{children:[Object(a.jsx)(y.a,{title:Object(o.c)("common.save"),children:Object(a.jsx)(q.a,{loading:l,type:"primary",onClick:c.handleSubmit(u),icon:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(y.a,{title:Object(o.c)("common.reset"),children:Object(a.jsx)(q.a,{disabled:l,onClick:function(){Object.keys(n).forEach((function(e){c.setValue(e,n[e])}))},icon:Object(a.jsx)(v.a,{})})}),e.onCancel&&Object(a.jsx)(y.a,{title:Object(o.c)("common.cancel"),children:Object(a.jsx)(q.a,{disabled:l,onClick:function(){return e.onCancel()},icon:Object(a.jsx)(O.a,{})})})]}))})]}),Object(a.jsx)(x.a,{gutter:24,children:Object(a.jsx)(h.a,{span:24,children:Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("legend",{children:Object(o.c)("common.informations")}),Object(a.jsx)(P.a,{name:"sender",label:Object(o.c)("entities.contact.fields.sender"),options:_.a.sender.map((function(e){return{value:e,label:Object(o.c)("entities.contact.enumerators.sender.".concat(e))}})),required:!1,layout:w.b}),Object(a.jsx)(P.a,{name:"type",label:Object(o.c)("entities.contact.fields.type"),options:_.a.type.map((function(e){return{value:e,label:Object(o.c)("entities.contact.enumerators.type.".concat(e))}})),required:!1,layout:w.b}),Object(a.jsx)(E.a,{name:"explication",label:Object(o.c)("entities.contact.fields.explication"),required:!1,layout:w.b})]})})})]})}))})},k=n(1037),Y=n(1038),B=n(1052);t.default=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),s=n[0],d=n[1],f=Object(c.d)(),j=Object(u.h)(),p=Object(c.e)(m.selectInitLoading),v=Object(c.e)(m.selectSaveLoading),O=Object(c.e)(m.selectRecord),x=Boolean(j.params.id),h=x?Object(o.c)("entities.contact.edit.title"):Object(o.c)("entities.contact.new.title");Object(i.useEffect)((function(){f(l.a.doInit(j.params.id)),d(!0)}),[f,j.params.id]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Y.a,{items:[[Object(o.c)("dashboard.menu"),"/"],[Object(o.c)("entities.contact.menu"),"/contact"],[h]]}),Object(a.jsxs)(k.a,{children:[p&&Object(a.jsx)(B.a,{}),s&&!p&&Object(a.jsx)(L,{title:h,saveLoading:v,record:O,isEditing:x,onSubmit:function(e,t){f(x?l.a.doUpdate(e,t):l.a.doCreate(t))},onCancel:function(){return Object(b.b)().push("/contact")}})]})]})}}}]);