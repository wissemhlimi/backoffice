"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[3535],{53535:function(e,t,i){i.r(t),i.d(t,{default:function(){return U}});var a=i(29439),n=i(47313),s=i(45788),r=i(63830),l=i(10499),o=i(49131),u=i(76747),d=function(e){return e.actualite.form},c=(0,u.P1)([d],(function(e){return e.record})),f={selectInitLoading:(0,u.P1)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,u.P1)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:c,selectRaw:d},m=i(37670),g=i(1413),h=i(92350),Z=i(12196),p=i(11829),v=i(68197),x=i(59624),j=i(59420),b=i(96995),y=i(59491),q=i(43270),C=i(68160),R=i(6473),I=i(89994),P=i(67357),w=i(56148),F=i(30513),S=i(5544),E=i(34073),k=i(70816),A=i.n(k),Y=i(71896),B=i(96111),M=i(59945),L=i(87347),N=i(75352),V=i(46417),D=R.Ry().shape({titleFR:I.Z.string((0,l.ag)("entities.actualite.fields.title"),{required:!0}),descriptionFR:I.Z.string((0,l.ag)("entities.actualite.fields.description"),{}),titleAR:I.Z.string((0,l.ag)("entities.actualite.fields.title"),{required:!0}),descriptionAR:I.Z.string((0,l.ag)("entities.actualite.fields.description"),{}),titleEN:I.Z.string((0,l.ag)("entities.actualite.fields.title"),{required:!0}),descriptionEN:I.Z.string((0,l.ag)("entities.actualite.fields.description"),{}),date:I.Z.date((0,l.ag)("entities.actualite.fields.date"),{}),link:I.Z.string((0,l.ag)("entities.actualite.fields.link"),{required:!0}),linkYoutube:I.Z.string((0,l.ag)("entities.actualite.fields.linkYoutube"),{}),statut:I.Z.enumerator((0,l.ag)("entities.actualite.fields.statut"),{options:E.Z.statut}),attachements:I.Z.files((0,l.ag)("entities.actualite.fields.attachements"),{}),image:I.Z.images((0,l.ag)("entities.actualite.fields.image"),{}),dossierPresse:I.Z.files((0,l.ag)("entities.evenement.fields.dossierPresse"),{}),contactPresse:I.Z.string((0,l.ag)("entities.evenement.fields.contactPresse"),{required:!1})}),T=function(e){var t=(0,n.useState)((function(){var t=e.record||{};return{contactPresse:t.contactPresse,dossierPresse:t.dossierPresse||[],titleFR:t.titleFR,descriptionFR:t.descriptionFR,titleAR:t.titleAR,descriptionAR:t.descriptionAR,titleEN:t.titleEN,descriptionEN:t.descriptionEN,date:t.date?A()(t.date,"YYYY-MM-DD"):null,link:t.link,linkYoutube:t.linkYoutube,statut:t.statut,attachements:t.attachements||[],image:t.image||[]}})),i=(0,a.Z)(t,1)[0],s=(0,q.cI)({resolver:(0,P.X)(D),mode:"all",defaultValues:i}),r=function(t){var i;e.onSubmit(null===e||void 0===e||null===(i=e.record)||void 0===i?void 0:i.id,t)},o=e.saveLoading;return(0,V.jsx)(C.ZP,{children:(0,V.jsx)(q.RV,(0,g.Z)((0,g.Z)({},s),{},{children:(0,V.jsxs)("form",{onSubmit:s.handleSubmit(r),children:[(0,V.jsxs)(v.Z,{gutter:24,children:[(0,V.jsx)(x.Z,{span:16,children:(0,V.jsx)(N.Z,{children:e.title})}),(0,V.jsx)(x.Z,{span:8,style:{textAlign:"end",paddingLeft:"100px",paddingRight:"0px"},children:(0,V.jsxs)(j.Z.Item,(0,g.Z)((0,g.Z)({className:"form-buttons"},C.YT),{},{children:[(0,V.jsx)(b.Z,{title:(0,l.ag)("common.save"),children:(0,V.jsx)(y.Z,{loading:o,type:"primary",onClick:s.handleSubmit(r),icon:(0,V.jsx)(h.Z,{rev:void 0})})}),(0,V.jsx)(b.Z,{title:(0,l.ag)("common.reset"),children:(0,V.jsx)(y.Z,{disabled:o,onClick:function(){Object.keys(i).forEach((function(e){s.setValue(e,i[e])}))},icon:(0,V.jsx)(Z.Z,{rev:void 0})})}),e.onCancel&&(0,V.jsx)(b.Z,{title:(0,l.ag)("common.cancel"),children:(0,V.jsx)(y.Z,{disabled:o,onClick:function(){return e.onCancel()},icon:(0,V.jsx)(p.Z,{rev:void 0})})})]}))})]}),(0,V.jsx)(v.Z,{gutter:24,children:(0,V.jsx)(x.Z,{span:24,children:(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:(0,l.ag)("common.informations")}),(0,V.jsx)(w.Z,{name:"titleFR",label:(0,l.ag)("entities.actualite.fields.titleFR"),required:!0,layout:C.I4,autoFocus:!0}),(0,V.jsx)(F.Z,{name:"descriptionFR",label:(0,l.ag)("entities.actualite.fields.descriptionFR"),required:!1,layout:C.I4}),(0,V.jsx)(w.Z,{name:"titleAR",label:(0,l.ag)("entities.actualite.fields.titleAR"),required:!0,layout:C.I4,autoFocus:!0}),(0,V.jsx)(F.Z,{name:"descriptionAR",label:(0,l.ag)("entities.actualite.fields.descriptionAR"),required:!1,layout:C.I4}),(0,V.jsx)(w.Z,{name:"titleEN",label:(0,l.ag)("entities.actualite.fields.titleEN"),required:!0,layout:C.I4,autoFocus:!0}),(0,V.jsx)(F.Z,{name:"descriptionEN",label:(0,l.ag)("entities.actualite.fields.descriptionEN"),required:!1,layout:C.I4}),(0,V.jsx)(Y.Z,{name:"date",label:(0,l.ag)("entities.actualite.fields.date"),required:!1,layout:C.I4}),(0,V.jsx)(w.Z,{name:"link",label:(0,l.ag)("entities.actualite.fields.link"),required:!0,layout:C.I4}),(0,V.jsx)(w.Z,{name:"linkYoutube",label:(0,l.ag)("entities.actualite.fields.linkYoutube"),required:!1,layout:C.I4}),(0,V.jsx)(S.Z,{name:"statut",label:(0,l.ag)("entities.actualite.fields.statut"),options:E.Z.statut.map((function(e){return{value:e,label:(0,l.ag)("entities.actualite.enumerators.statut.".concat(e))}})),required:!1,layout:C.I4}),(0,V.jsx)(w.Z,{name:"contactPresse",label:(0,l.ag)("entities.evenement.fields.contactPresse"),required:!1,layout:C.I4,autoFocus:!0}),(0,V.jsx)(L.Z,{name:"dossierPresse",label:(0,l.ag)("entities.evenement.fields.dossierPresse"),required:!1,storage:B.Z.values.actualiteDossierPresse,max:void 0,formats:void 0,layout:C.I4}),(0,V.jsx)(L.Z,{name:"attachements",label:(0,l.ag)("entities.actualite.fields.attachements"),required:!1,storage:B.Z.values.actualiteAttachements,max:void 0,formats:void 0,layout:C.I4}),(0,V.jsx)(M.Z,{name:"image",label:(0,l.ag)("entities.actualite.fields.image"),required:!1,storage:B.Z.values.actualiteImage,max:void 0,layout:C.I4})]})})})]})}))})},z=i(27829),G=i(53852),H=i(61567),U=function(e){var t=(0,n.useState)(!1),i=(0,a.Z)(t,2),u=i[0],d=i[1],c=(0,s.I0)(),g=(0,r.$B)(),h=(0,s.v9)(f.selectInitLoading),Z=(0,s.v9)(f.selectSaveLoading),p=(0,s.v9)(f.selectRecord),v=Boolean(g.params.id),x=v?(0,l.ag)("entities.actualite.edit.title"):(0,l.ag)("entities.actualite.new.title");(0,n.useEffect)((function(){c(o.Z.doInit(g.params.id)),d(!0)}),[c,g.params.id]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(G.Z,{items:[[(0,l.ag)("dashboard.menu"),"/"],[(0,l.ag)("entities.actualite.menu"),"/actualite"],[x]]}),(0,V.jsxs)(z.Z,{children:[h&&(0,V.jsx)(H.Z,{}),u&&!h&&(0,V.jsx)(T,{title:x,saveLoading:Z,record:p,isEditing:v,onSubmit:function(e,t){c(v?o.Z.doUpdate(e,t):o.Z.doCreate(t))},onCancel:function(){return(0,m.s1)().push("/actualite")}})]})]})}},61567:function(e,t,i){var a=i(72652),n=(i(47313),i(46417));t.Z=function(e){return(0,n.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,n.jsx)(a.Z,{})})}},71896:function(e,t,i){var a=i(1413),n=i(59420),s=i(27083),r=i(47313),l=i(49384),o=i(43270),u=i(46417),d=function(e){var t=e.label,i=e.name,d=e.hint,c=e.layout,f=e.autoFocus,m=e.showTime,g=e.required,h=e.placeholder,Z=e.externalErrorMessage,p=(0,o.Gc)(),v=p.register,x=p.errors,j=p.formState,b=j.touched,y=j.isSubmitted,q=p.setValue,C=p.watch,R=l.Z.errorMessage(i,x,b,y,Z);return(0,r.useEffect)((function(){v({name:i})}),[v,i]),(0,u.jsx)(n.Z.Item,(0,a.Z)((0,a.Z)({},c),{},{label:t,required:g,validateStatus:R?"error":"success",help:R||d,children:(0,u.jsx)(s.Z,{onChange:function(t){q(i,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},value:C(i),onBlur:function(t){e.onBlur&&e.onBlur(t)},autoFocus:f||!1,style:{width:"100%"},showTime:m?{format:"HH:mm"}:void 0,format:m?"YYYY-MM-DD HH:mm":void 0,placeholder:h})}))};d.defaultProps={layout:null,showTime:!1,required:!1},t.Z=d},59945:function(e,t,i){i.d(t,{Z:function(){return q}});var a,n=i(1413),s=i(59420),r=i(43270),l=i(47313),o=i(49384),u=i(93433),d=i(29439),c=i(26041),f=i(48216),m=i(6891),g=i(33512),h=i(30168),Z=i(44781).ZP.div(a||(a=(0,h.Z)(["\n  .ant-upload-select-picture-card i {\n    font-size: 32px;\n    color: #999;\n  }\n\n  .ant-upload-select-picture-card .ant-upload-text {\n    margin-top: 8px;\n    color: #666;\n  }\n\n  .ant-upload-list-item-info > span {\n    width: 100%;\n    height: 100%;\n  }\n\n  .ant-upload-list-item-thumbnail > img {\n    object-fit: cover;\n  }\n"]))),p=i(10499),v=i(82508),x=i(82138),j=i(46417),b=function(e){var t=(0,l.useState)(!1),i=(0,d.Z)(t,2),a=i[0],n=i[1],s=(0,l.useState)(!1),r=(0,d.Z)(s,2),o=r[0],h=r[1],b=(0,l.useState)(""),y=(0,d.Z)(b,2),q=y[0],C=y[1],R=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},I=function(){return R().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl,size:e.size,type:e.type}}))},P=function(e){n(!1),g.Z.showMessage(e)},w=e.max,F=(0,j.jsxs)("div",{children:[a?(0,j.jsx)(v.Z,{rev:void 0}):(0,j.jsx)(x.Z,{rev:void 0}),(0,j.jsx)("div",{className:"ant-upload-text",children:(0,p.ag)("fileUploader.upload")})]});return(0,j.jsxs)(Z,{children:[(0,j.jsx)(c.Z,{accept:"image/*",fileList:I(),listType:"picture-card",customRequest:function(t){m.Z.uploadFromRequest(t,{storage:e.storage,image:!0},(function(t){!function(t){n(!1),e.onChange([].concat((0,u.Z)(R()),[t]))}(t)}),(function(e){P(e)}))},onChange:function(t){var i;t&&t.file&&t.file.status&&("removed"===t.file.status?(i=t.file.uid,e.onChange(R().filter((function(e){return e.id!==i})))):n(!0))},onPreview:function(e){C(e.url),h(!0)},beforeUpload:function(t){try{return m.Z.validate(t,{storage:e.storage,image:!0}),!0}catch(i){return P(i),!1}},children:w&&I().length>=w?null:F}),(0,j.jsx)(f.Z,{visible:o,footer:null,onCancel:function(){h(!1)},children:(0,j.jsx)("img",{alt:q,style:{width:"100%"},src:q})})]})},y=function(e){var t=e.label,i=e.name,a=e.hint,u=e.layout,d=e.storage,c=e.max,f=e.required,m=e.externalErrorMessage,g=(0,r.Gc)(),h=g.errors,Z=g.formState,p=Z.touched,v=Z.isSubmitted,x=g.setValue,y=g.watch,q=g.register;(0,l.useEffect)((function(){q({name:i})}),[q,i]);var C=o.Z.errorMessage(i,h,p,v,m),R=C||a;return(0,j.jsx)(s.Z.Item,(0,n.Z)((0,n.Z)({},u),{},{label:t,required:f,validateStatus:C?"error":"success",help:R,children:(0,j.jsx)(b,{storage:d,value:y(i),onChange:function(t){x(i,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},max:c})}))};y.defaultProps={layout:null,max:void 0,required:!1};var q=y},5544:function(e,t,i){var a=i(1413),n=i(59420),s=i(61143),r=i(47313),l=i(49384),o=i(43270),u=i(46417),d=function(e){var t=e.label,i=e.name,d=e.hint,c=e.layout,f=e.size,m=e.placeholder,g=e.options,h=e.mode,Z=e.autoFocus,p=e.required,v=e.externalErrorMessage,x=e.optionFilterProp,j=(0,o.Gc)(),b=j.register,y=j.errors,q=j.formState,C=q.touched,R=q.isSubmitted,I=j.setValue,P=j.watch,w=l.Z.errorMessage(i,y,C,R,v),F=P(i);return(0,r.useEffect)((function(){b({name:i})}),[b,i]),(0,u.jsx)(n.Z.Item,(0,a.Z)((0,a.Z)({},c),{},{label:t,validateStatus:w?"error":"success",required:p,help:w||d,children:(0,u.jsx)(s.Z,{id:i,onChange:function(t){I(i,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:F,size:f||void 0,placeholder:m||void 0,autoFocus:Z||!1,mode:h||void 0,optionFilterProp:x||"children",allowClear:!0,style:{width:"100%"},children:g.map((function(e){return(0,u.jsx)(s.Z.Option,{value:e.value,title:e.title,children:e.label},e.value)}))})}))};d.defaultProps={layout:null,required:!1},t.Z=d},30513:function(e,t,i){var a=i(1413),n=i(59420),s=i(46937),r=i(43270),l=i(47313),o=i(49384),u=i(46417),d=function(e){var t=e.label,i=e.name,d=e.hint,c=e.layout,f=e.placeholder,m=e.autoFocus,g=e.autoComplete,h=e.prefix,Z=e.required,p=e.rows,v=e.externalErrorMessage,x=e.maxLength,j=(0,r.Gc)(),b=j.register,y=j.errors,q=j.formState,C=q.touched,R=q.isSubmitted,I=j.setValue,P=j.watch,w=o.Z.errorMessage(i,y,C,R,v),F=P(i);return(0,l.useEffect)((function(){b({name:i})}),[b,i]),(0,u.jsx)(n.Z.Item,(0,a.Z)((0,a.Z)({},c),{},{label:t,required:Z,validateStatus:w?"error":"success",help:w||d,children:(0,u.jsx)(s.Z.TextArea,{id:i,onChange:function(t){I(i,t.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},maxLength:x,value:F,placeholder:f||void 0,autoFocus:m||!1,autoComplete:g||void 0,prefix:h||void 0,rows:p,style:{width:"100%"}})}))};d.defaultProps={layout:null,required:!1,rows:4},t.Z=d}}]);