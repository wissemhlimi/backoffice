"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7579],{61567:function(e,i,t){var s=t(72652),n=(t(47313),t(46417));i.Z=function(e){return(0,n.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,n.jsx)(s.Z,{})})}},37579:function(e,i,t){t.r(i),t.d(i,{default:function(){return ee}});var s=t(29439),n=t(47313),a=t(45788),o=t(63830),r=t(10499),d=t(88447),l=t(76747),c=function(e){return e.suicide.form},u=(0,l.P1)([c],(function(e){return e.record})),m={selectInitLoading:(0,l.P1)([c],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,l.P1)([c],(function(e){return Boolean(e.saveLoading)})),selectRecord:u,selectRaw:c},g=t(37670),f=t(1413),Z=t(92350),b=t(12196),x=t(11829),j=t(73591),h=t(68197),p=t(59624),y=t(59420),v=t(96995),q=t(59491),I=t(43270),R=t(68160),C=t(6473),T=t(89994),w=t(67357),E=t(56148),A=t(30513),F=t(21538),N=t(5544),L=t(31589),O=t(70816),S=t.n(O),k=t(71896),B=t(88962),P=t(48190),Y=t(85889),M=t(55014),V=t(30821),W=t(15588),D=t(40496),_=t(8984),K=t(75352),U=t(89146),X=t(46417),$=j.Z.TabPane,z=C.Ry().shape({date:T.Z.date((0,r.ag)("entities.suicide.fields.date"),{required:!0}),lieux:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.lieux"),{required:!0}),genre:T.Z.enumerator((0,r.ag)("entities.suicide.fields.genre"),{options:L.Z.genre,required:!0}),age:T.Z.integer((0,r.ag)("entities.suicide.fields.age"),{}),source:T.Z.relationToMany((0,r.ag)("entities.action.fields.source"),{required:!0}),mode:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.mode"),{required:!0}),raison:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.raison"),{required:!0}),statut:T.Z.enumerator((0,r.ag)("entities.action.fields.statut"),{options:L.Z.statut}),espace:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.espace"),{required:!0}),declencheur:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.declencheur"),{}),cible:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.cible"),{}),deces:T.Z.enumerator((0,r.ag)("entities.suicide.fields.deces"),{options:L.Z.deces,required:!0}),aboutissementAR:T.Z.string((0,r.ag)("entities.suicide.fields.aboutissement"),{}),aboutissementFR:T.Z.string((0,r.ag)("entities.suicide.fields.aboutissement"),{}),aboutissementEN:T.Z.string((0,r.ag)("entities.suicide.fields.aboutissement"),{}),commentairesAR:T.Z.string((0,r.ag)("entities.suicide.fields.commentaires"),{required:!0}),commentairesFR:T.Z.string((0,r.ag)("entities.suicide.fields.commentaires"),{}),commentairesEN:T.Z.string((0,r.ag)("entities.suicide.fields.commentaires"),{}),action:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.action"),{}),acteur:T.Z.relationToOne((0,r.ag)("entities.suicide.fields.acteur"),{required:!0})}),G=function(e){var i=(0,n.useState)((function(){var i=e.record||{};return{date:i.date?S()(i.date,"YYYY-MM-DD"):null,lieux:i.lieux||[],genre:i.genre,age:i.age,mode:i.mode,raison:i.raison,espace:i.espace,declencheur:i.declencheur,cible:i.cible,deces:i.deces,source:i.source||[],aboutissementAR:i.aboutissementAR,aboutissementFR:i.aboutissementFR,aboutissementEN:i.aboutissementEN,commentairesAR:i.commentairesAR,commentairesFR:i.commentairesFR,commentairesEN:i.commentairesEN,action:i.action,acteur:i.acteur,statut:i.statut,coefficient:1}})),t=(0,s.Z)(i,1)[0],a=(0,I.cI)({resolver:(0,w.X)(z),mode:"all",defaultValues:t}),o=function(i){var t;e.onSubmit(null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.id,i)},d=e.saveLoading;return(0,X.jsx)(R.ZP,{children:(0,X.jsx)(I.RV,(0,f.Z)((0,f.Z)({},a),{},{children:(0,X.jsxs)("form",{onSubmit:a.handleSubmit(o),children:[(0,X.jsxs)(h.Z,{gutter:24,children:[(0,X.jsx)(p.Z,{span:16,children:(0,X.jsx)(K.Z,{children:e.title})}),(0,X.jsx)(p.Z,{span:8,style:{textAlign:"end",paddingLeft:"100px",paddingRight:"0px"},children:(0,X.jsxs)(y.Z.Item,(0,f.Z)((0,f.Z)({className:"form-buttons"},R.YT),{},{children:[(0,X.jsx)(v.Z,{title:(0,r.ag)("common.save"),children:(0,X.jsx)(q.Z,{loading:d,type:"primary",onClick:a.handleSubmit(o),icon:(0,X.jsx)(Z.Z,{rev:void 0})})}),(0,X.jsx)(v.Z,{title:(0,r.ag)("common.reset"),children:(0,X.jsx)(q.Z,{disabled:d,onClick:function(){Object.keys(t).forEach((function(e){a.setValue(e,t[e])}))},icon:(0,X.jsx)(b.Z,{rev:void 0})})}),e.onCancel&&(0,X.jsx)(v.Z,{title:(0,r.ag)("common.cancel"),children:(0,X.jsx)(q.Z,{disabled:d,onClick:function(){return e.onCancel()},icon:(0,X.jsx)(x.Z,{rev:void 0})})})]}))})]}),(0,X.jsx)(h.Z,{gutter:24,children:(0,X.jsx)(p.Z,{span:24,children:(0,X.jsxs)(j.Z,{defaultActiveKey:"0",onChange:function(e){},children:[(0,X.jsx)($,{tab:(0,r.ag)("common.informations"),children:(0,X.jsxs)("fieldset",{style:{borderTopWidth:0},children:[(0,X.jsx)(k.Z,{name:"date",label:(0,r.ag)("entities.suicide.fields.date"),required:!0,layout:R.I4}),(0,X.jsx)(B.Z,{name:"lieux",label:(0,r.ag)("entities.suicide.fields.lieux"),required:!0,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(N.Z,{name:"genre",label:(0,r.ag)("entities.suicide.fields.genre"),options:L.Z.genre.map((function(e){return{value:e,label:(0,r.ag)("entities.suicide.enumerators.genre.".concat(e))}})),required:!0,layout:R.I4}),(0,X.jsx)(F.Z,{name:"age",label:(0,r.ag)("entities.suicide.fields.age"),required:!1,layout:R.I4}),(0,X.jsx)(P.Z,{name:"mode",label:(0,r.ag)("entities.suicide.fields.mode"),required:!0,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(Y.Z,{name:"raison",label:(0,r.ag)("entities.suicide.fields.raison"),required:!0,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(M.Z,{name:"espace",label:(0,r.ag)("entities.suicide.fields.espace"),required:!0,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(V.Z,{name:"declencheur",label:(0,r.ag)("entities.suicide.fields.declencheur"),required:!1,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(W.Z,{name:"cible",label:(0,r.ag)("entities.suicide.fields.cible"),required:!1,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(N.Z,{name:"deces",label:(0,r.ag)("entities.suicide.fields.deces"),options:L.Z.deces.map((function(e){return{value:e,label:(0,r.ag)("entities.suicide.enumerators.deces.".concat(e))}})),required:!0,layout:R.I4}),e.action?null:(0,X.jsx)(D.Z,{name:"action",label:(0,r.ag)("entities.suicide.fields.action"),required:!1,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(_.Z,{name:"acteur",label:(0,r.ag)("entities.suicide.fields.acteur"),required:!0,showCreate:!e.modal,layout:R.I4}),(0,X.jsx)(U.Z,{name:"source",label:(0,r.ag)("entities.action.fields.source"),required:!0,showCreate:!e.modal,layout:R.I4,mode:"multiple"}),(0,X.jsx)(N.Z,{name:"statut",label:(0,r.ag)("entities.mouvement.fields.statut"),options:L.Z.statut.map((function(e){return{value:e,label:(0,r.ag)("entities.action.enumerators.statut.".concat(e))}})),required:!1,layout:R.I4}),(0,X.jsx)(E.Z,{name:"aboutissementAR",label:(0,r.ag)("entities.suicide.fields.aboutissement"),required:!1,layout:R.I4}),(0,X.jsx)(A.Z,{name:"commentairesAR",label:(0,r.ag)("entities.suicide.fields.commentaires"),required:!0,layout:R.I4})]})},"0"),(0,X.jsx)($,{tab:(0,r.ag)("common.informationsFR"),children:(0,X.jsxs)("fieldset",{style:{borderTopWidth:0},children:[(0,X.jsx)(E.Z,{name:"aboutissementFR",label:(0,r.ag)("entities.suicide.fields.aboutissement"),required:!1,layout:R.I4}),(0,X.jsx)(A.Z,{name:"commentairesFR",label:(0,r.ag)("entities.suicide.fields.commentaires"),required:!1,layout:R.I4})]})},"2"),(0,X.jsx)($,{tab:(0,r.ag)("common.informationsEN"),children:(0,X.jsxs)("fieldset",{style:{borderTopWidth:0},children:[(0,X.jsx)(E.Z,{name:"aboutissementEN",label:(0,r.ag)("entities.suicide.fields.aboutissement"),required:!1,layout:R.I4}),(0,X.jsx)(A.Z,{name:"commentairesEN",label:(0,r.ag)("entities.suicide.fields.commentaires"),required:!1,layout:R.I4})]})},"3")]})})})]})}))})},H=t(27829),J=t(53852),Q=t(61567),ee=function(e){var i=(0,n.useState)(!1),t=(0,s.Z)(i,2),l=t[0],c=t[1],u=(0,a.I0)(),f=(0,o.$B)(),Z=(0,a.v9)(m.selectInitLoading),b=(0,a.v9)(m.selectSaveLoading),x=(0,a.v9)(m.selectRecord),j=Boolean(f.params.id),h=j?(0,r.ag)("entities.suicide.edit.title"):(0,r.ag)("entities.suicide.new.title");(0,n.useEffect)((function(){u(d.Z.doInit(f.params.id)),c(!0)}),[u,f.params.id]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(J.Z,{items:[[(0,r.ag)("dashboard.menu"),"/"],[(0,r.ag)("entities.suicide.menu"),"/suicide"],[h]]}),(0,X.jsxs)(H.Z,{children:[Z&&(0,X.jsx)(Q.Z,{}),l&&!Z&&(0,X.jsx)(G,{action:e.location.action,title:h,saveLoading:b,record:x,isEditing:j,onSubmit:function(i,t){t.coefficient=1,e.location.action&&(t.action=e.location.action),u(j?d.Z.doUpdate(i,t):d.Z.doCreate(t))},onCancel:function(){return(0,g.s1)().push("/suicide")}})]})]})}}}]);