"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[3252],{23252:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var i=t(29439),o=t(70816),a=t.n(o),r=t(47313),c=t(45788),u=t(63830),s=t(10499),d=t(36413),l=t(76747),f=function(n){return n.action.form},m=(0,l.P1)([f],(function(n){return n.record})),v={selectInitLoading:(0,l.P1)([f],(function(n){return Boolean(n.initLoading)})),selectSaveLoading:(0,l.P1)([f],(function(n){return Boolean(n.saveLoading)})),selectRecord:m,selectRaw:f},g=t(37670),p=t(8911),x=t(27829),h=t(53852),Z=t(61567),L=t(46417),b=function(n){var e=(0,r.useState)(!1),t=(0,i.Z)(e,2),o=t[0],l=t[1],f=(0,c.I0)(),m=(0,u.$B)(),b=(0,c.v9)(v.selectInitLoading),j=(0,c.v9)(v.selectSaveLoading),C=(0,c.v9)(v.selectRecord),w=Boolean(m.params.id),B=w?(0,s.ag)("entities.action.edit.title"):(0,s.ag)("entities.action.new.title");(0,r.useEffect)((function(){f(d.Z.doInit(m.params.id)),l(!0)}),[f,m.params.id]);var D=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD",i=function(n){return a()(n.split(/\D+/),t)};return i(e).diff(i(n),"days")+1};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.Z,{items:[[(0,s.ag)("dashboard.menu"),"/"],[(0,s.ag)("entities.action.menu"),"/action"],[B]]}),(0,L.jsxs)(x.Z,{children:[b&&(0,L.jsx)(Z.Z,{}),o&&!b&&(0,L.jsx)(p.Z,{mouvement:n.location.mouvement,title:B,saveLoading:j,record:C,isEditing:w,onSubmit:function(e,t){var i=a()().format();t.coefficient=t.dateFin?D(t.dateDebut,t.dateFin)*t.nbreLieux:D(t.dateDebut,i)*t.nbreLieux,n.location.mouvement&&(t.mouvement=n.location.mouvement),f(w?d.Z.doUpdate(e,t):d.Z.doCreate(t))},onCancel:function(){return(0,g.s1)().push("/action")}})]})]})}},61567:function(n,e,t){var i=t(72652),o=(t(47313),t(46417));e.Z=function(n){return(0,o.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,o.jsx)(i.Z,{})})}}}]);