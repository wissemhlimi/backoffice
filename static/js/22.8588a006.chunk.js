(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[22],{1329:function(e,n,t){"use strict";t.r(n);var r=t(23),a=t(1),i=t(43),u=t(3),c=t(7),l=t(117),o=t(955),s=t(623),d=t(625),m=t(624),b=t(0),f=t(1286),j=t(206),O=t(618),p=t(630),x=t(629),v=t(767),h=t(698),g=t(768),q=t(44),y=t(638),C=t(52),S=t(35),Y=t(645),w=t(12),M=q.e().shape({name:y.a.string(Object(u.c)("tenant.fields.tenantName"),{required:!0,max:50}),url:y.a.string(Object(u.c)("tenant.fields.tenantUrl"),{required:!0,max:50}).matches(/^[a-z0-9][-a-zA-Z0-9]*$/,Object(u.c)("tenant.validation.url"))}),k=q.e().shape({name:y.a.string(Object(u.c)("tenant.fields.tenantName"),{required:!0,max:50})}),I=S.a.isEnabled?M:k,L=function(e){var n=Object(a.useState)((function(){return e.record||{name:""}})),t=Object(r.a)(n,1)[0],i=Object(O.c)({resolver:Object(Y.yupResolver)(I),mode:"all",defaultValues:t}),c=function(n){var t;e.onSubmit(null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.id,n)},l=e.saveLoading;return Object(w.jsx)(p.a,{children:Object(w.jsx)(O.a,Object(b.a)(Object(b.a)({},i),{},{children:Object(w.jsxs)("form",{onSubmit:i.handleSubmit(c),children:[Object(w.jsx)(x.a,{name:"name",label:Object(u.c)("tenant.fields.name"),required:!0,layout:p.b,autoFocus:!0}),S.a.isEnabled&&Object(w.jsx)(x.a,{name:"url",label:Object(u.c)("tenant.fields.url"),required:!0,layout:p.b,addonAfter:".".concat(C.a.frontendUrl.host)}),Object(w.jsxs)(f.a.Item,Object(b.a)(Object(b.a)({className:"form-buttons"},p.c),{},{children:[Object(w.jsx)(j.a,{loading:l,type:"primary",onClick:i.handleSubmit(c),icon:Object(w.jsx)(v.a,{}),children:Object(u.c)("common.save")}),Object(w.jsx)(j.a,{disabled:l,onClick:function(){Object.keys(t).forEach((function(e){i.setValue(e,t[e])}))},icon:Object(w.jsx)(h.a,{}),children:Object(u.c)("common.reset")}),e.onCancel&&Object(w.jsx)(j.a,{disabled:l,onClick:function(){return e.onCancel()},icon:Object(w.jsx)(g.a,{}),children:Object(u.c)("common.cancel")})]}))]})}))})},B=t(36),D=t(655);n.default=function(e){var n=Object(i.d)(),t=Object(a.useState)(!1),b=Object(r.a)(t,2),f=b[0],j=b[1],O=Object(B.h)(),p=Object(i.e)(o.a.selectInitLoading),x=Object(i.e)(o.a.selectSaveLoading),v=Object(i.e)(o.a.selectRecord),h=Boolean(O.params.id);Object(a.useEffect)((function(){n(l.a.doInit(O.params.id)),j(!0)}),[n,h,O.params.id]);var g=h?Object(u.c)("tenant.edit.title"):Object(u.c)("tenant.new.title");return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(d.a,{header:!0,items:[[Object(u.c)("tenant.menu"),"/tenant"],[g]]}),Object(w.jsxs)(s.a,{children:[Object(w.jsx)(m.a,{children:g}),p&&Object(w.jsx)(D.a,{}),f&&!p&&Object(w.jsx)(L,{saveLoading:x,record:v,isEditing:h,onSubmit:function(e,t){n(h?l.a.doUpdate(e,t):l.a.doCreate(t))},onCancel:function(){return Object(c.b)().push("/tenant")}})]})]})}},622:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(10),a=t(11),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,n,t,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!r&&!t[e])return null;var u=n[e];return(null===u||void 0===u||null===(a=u[0])||void 0===a?void 0:a.message)||(null===u||void 0===u?void 0:u.message)||u||null}}]),e}()},623:function(e,n,t){"use strict";var r,a=t(183),i=t(184).a.div(r||(r=Object(a.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"])));n.a=i},624:function(e,n,t){"use strict";var r,a=t(183),i=t(184).a.h1(r||(r=Object(a.a)(["\n  margin-bottom: 36px;\n"])));n.a=i},625:function(e,n,t){"use strict";var r=t(669),a=(t(1),t(95)),i=t(12);n.a=function(e){var n=function(e){return e.length>1};return Object(i.jsx)(r.a,{children:e.items.map((function(e){return Object(i.jsx)(r.a.Item,{children:n(e)?Object(i.jsx)(a.a,{to:e[1],children:e[0]}):e[0]},e[0])}))})}},629:function(e,n,t){"use strict";var r=t(0),a=t(1286),i=t(1289),u=t(618),c=t(1),l=t(622),o=t(12),s=function(e){var n=e.label,t=e.name,s=e.hint,d=e.layout,m=e.size,b=e.type,f=e.placeholder,j=e.autoFocus,O=e.autoComplete,p=e.prefix,x=e.externalErrorMessage,v=e.required,h=e.addonAfter,g=Object(u.d)(),q=g.setValue,y=g.watch,C=g.register,S=g.errors,Y=g.formState,w=Y.touched,M=Y.isSubmitted;Object(c.useEffect)((function(){C({name:t})}),[C,t]);var k=l.a.errorMessage(t,S,w,M,x);return Object(o.jsx)(a.a.Item,Object(r.a)(Object(r.a)({},d),{},{label:n,required:v,validateStatus:k?"error":"success",help:k||s,children:Object(o.jsx)(i.a,{id:t,name:t,type:b,value:y(t),onChange:function(n){q(t,n.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},size:m||void 0,placeholder:f||void 0,autoFocus:j||!1,autoComplete:O||void 0,prefix:p||void 0,addonAfter:h||void 0})}))};s.defaultProps={layout:null,type:"text",required:!1},n.a=s},630:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return c}));var r,a=t(183),i=t(184).a.div(r||(r=Object(a.a)(["\n  padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n"]))),u={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},c={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};n.a=i},638:function(e,n,t){"use strict";var r=t(19),a=t(44),i=t(3),u=t(106),c=t.n(u),l={generic:function(e){return a.c().label(e)},string:function(e,n){n=n||{};var t=a.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},boolean:function(e,n){return a.b().default(!1).label(e)},relationToOne:function(e,n){n=n||{};var t=a.c().nullable(!0).label(e).transform((function(e,n){return n?n.id:null}));return n.required&&(t=t.required()),t},stringArray:function(e,n){n=n||{};var t=a.a().compact().ensure().of(a.h().transform((function(e,n){return""===n?null:e})).trim()).label(e);return n.required&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},relationToMany:function(e,n){n=n||{};var t=a.a().nullable(!0).label(e).transform((function(e,n){return n&&n.length?n.map((function(e){return e.id})):[]}));return n.required&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},integer:function(e,n){n=n||{};var t=a.d().transform((function(e,n){return""===n?null:e})).integer().nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},images:function(e,n){n=n||{};var t=a.a().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},files:function(e,n){n=n||{};var t=a.a().compact().ensure().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},enumerator:function(e,n){n=n||{};var t=a.h().transform((function(e,n){return""===n?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(n.options||[])));return n.required&&(t=t.required(Object(i.c)("validation.string.selected"))),t},email:function(e,n){n=n||{};var t=a.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e).email();return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},decimal:function(e,n){n=n||{};var t=a.d().transform((function(e,n){return""===n?null:e})).nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},datetime:function(e,n){n=n||{};var t=a.c().nullable(!0).label(e).transform((function(e,n){return e?c()(n,"YYYY-MM-DD HH:mm").toISOString():null}));return n.required&&(t=t.required()),t},date:function(e,n){n=n||{};var t=a.c().nullable(!0).label(e).test("is-date",Object(i.c)("validation.mixed.default"),(function(e){return!e||c()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?c()(e).format("YYYY-MM-DD"):null}));return n.required&&(t=t.required()),t}};n.a=l},655:function(e,n,t){"use strict";var r=t(654),a=(t(1),t(12));n.a=function(e){return Object(a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(a.jsx)(r.a,{})})}},955:function(e,n,t){"use strict";var r=t(5),a=function(e){return e.tenant.form},i=Object(r.a)([a],(function(e){return e.record})),u={selectInitLoading:Object(r.a)([a],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(r.a)([a],(function(e){return Boolean(e.saveLoading)})),selectRecord:i,selectRaw:a};n.a=u}}]);