"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[157],{89994:function(e,n,t){var r=t(93433),i=t(6473),a=t(10499),o=t(70816),l=t.n(o),u={generic:function(e){return i.nK().label(e)},string:function(e,n){n=n||{};var t=i.Z_().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},boolean:function(e,n){return i.Xg().default(!1).label(e)},relationToOne:function(e,n){n=n||{};var t=i.nK().nullable(!0).label(e).transform((function(e,n){return n?n.id:null}));return n.required&&(t=t.required()),t},stringArray:function(e,n){n=n||{};var t=i.IX().compact().ensure().of(i.Z_().transform((function(e,n){return""===n?null:e})).trim()).label(e);return n.required&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},relationToMany:function(e,n){n=n||{};var t=i.IX().nullable(!0).label(e).transform((function(e,n){return n&&n.length?n.map((function(e){return e.id})):[]}));return n.required&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},integer:function(e,n){n=n||{};var t=i.Rx().transform((function(e,n){return""===n?null:e})).integer().nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},images:function(e,n){n=n||{};var t=i.IX().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},files:function(e,n){n=n||{};var t=i.IX().compact().ensure().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},enumerator:function(e,n){n=n||{};var t=i.Z_().transform((function(e,n){return""===n?null:e})).label(e).nullable(!0).oneOf([null].concat((0,r.Z)(n.options||[])));return n.required&&(t=t.required((0,a.ag)("validation.string.selected"))),t},email:function(e,n){n=n||{};var t=i.Z_().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e).email();return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},decimal:function(e,n){n=n||{};var t=i.Rx().transform((function(e,n){return""===n?null:e})).nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},datetime:function(e,n){n=n||{};var t=i.nK().nullable(!0).label(e).transform((function(e,n){return e?l()(n,"YYYY-MM-DD HH:mm").toISOString():null}));return n.required&&(t=t.required()),t},date:function(e,n){n=n||{};var t=i.nK().nullable(!0).label(e).test("is-date",(0,a.ag)("validation.mixed.default"),(function(e){return!e||l()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?l()(e).format("YYYY-MM-DD"):null}));return n.required&&(t=t.required()),t}};n.Z=u},27829:function(e,n,t){var r,i=t(30168),a=t(44781).ZP.div(r||(r=(0,i.Z)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"])));n.Z=a},53852:function(e,n,t){var r=t(28709),i=(t(47313),t(28303)),a=t(46417);n.Z=function(e){var n=function(e){return e.length>1};return(0,a.jsx)(r.Z,{children:e.items.map((function(e){return(0,a.jsx)(r.Z.Item,{children:n(e)?(0,a.jsx)(i.rU,{to:e[1],children:e[0]}):e[0]},e[0])}))})}},61567:function(e,n,t){var r=t(72652),i=(t(47313),t(46417));n.Z=function(e){return(0,i.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,i.jsx)(r.Z,{})})}},49384:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(15671),i=t(43144),a=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"errorMessage",value:function(e,n,t,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(a)return a;if(!r&&!t[e])return null;var o=n[e];return(null===o||void 0===o||null===(i=o[0])||void 0===i?void 0:i.message)||(null===o||void 0===o?void 0:o.message)||o||null}}]),e}()},71896:function(e,n,t){var r=t(1413),i=t(59420),a=t(27083),o=t(47313),l=t(49384),u=t(43270),s=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.autoFocus,f=e.showTime,g=e.required,p=e.placeholder,h=e.externalErrorMessage,x=(0,u.Gc)(),v=x.register,Z=x.errors,b=x.formState,q=b.touched,j=b.isSubmitted,y=x.setValue,C=x.watch,w=l.Z.errorMessage(t,Z,q,j,h);return(0,o.useEffect)((function(){v({name:t})}),[v,t]),(0,s.jsx)(i.Z.Item,(0,r.Z)((0,r.Z)({},c),{},{label:n,required:g,validateStatus:w?"error":"success",help:w||d,children:(0,s.jsx)(a.Z,{onChange:function(n){y(t,n,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n)},value:C(t),onBlur:function(n){e.onBlur&&e.onBlur(n)},autoFocus:m||!1,style:{width:"100%"},showTime:f?{format:"HH:mm"}:void 0,format:f?"YYYY-MM-DD HH:mm":void 0,placeholder:p})}))};d.defaultProps={layout:null,showTime:!1,required:!1},n.Z=d},56148:function(e,n,t){var r=t(1413),i=t(59420),a=t(46937),o=t(43270),l=t(47313),u=t(49384),s=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.size,f=e.type,g=e.placeholder,p=e.autoFocus,h=e.autoComplete,x=e.prefix,v=e.externalErrorMessage,Z=e.required,b=e.addonAfter,q=e.maxLength,j=(0,o.Gc)(),y=j.setValue,C=j.watch,w=j.register,Y=j.errors,I=j.formState,S=I.touched,M=I.isSubmitted;(0,l.useEffect)((function(){w({name:t})}),[w,t]);var k=u.Z.errorMessage(t,Y,S,M,v);return(0,s.jsx)(i.Z.Item,(0,r.Z)((0,r.Z)({},c),{},{label:n,required:Z,validateStatus:k?"error":"success",help:k||d,children:(0,s.jsx)(a.Z,{maxLength:q,id:t,name:t,type:f,value:C(t),onChange:function(n){y(t,n.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},size:m||void 0,placeholder:g||void 0,autoFocus:p||!1,autoComplete:h||void 0,prefix:x||void 0,addonAfter:b||void 0,style:{width:"100%"}})}))};d.defaultProps={layout:null,type:"text",required:!1},n.Z=d},5544:function(e,n,t){var r=t(1413),i=t(59420),a=t(61143),o=t(47313),l=t(49384),u=t(43270),s=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.size,f=e.placeholder,g=e.options,p=e.mode,h=e.autoFocus,x=e.required,v=e.externalErrorMessage,Z=e.optionFilterProp,b=(0,u.Gc)(),q=b.register,j=b.errors,y=b.formState,C=y.touched,w=y.isSubmitted,Y=b.setValue,I=b.watch,S=l.Z.errorMessage(t,j,C,w,v),M=I(t);return(0,o.useEffect)((function(){q({name:t})}),[q,t]),(0,s.jsx)(i.Z.Item,(0,r.Z)((0,r.Z)({},c),{},{label:n,validateStatus:S?"error":"success",required:x,help:S||d,children:(0,s.jsx)(a.Z,{id:t,onChange:function(n){Y(t,n,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n)},onBlur:function(n){e.onBlur&&e.onBlur(n)},value:M,size:m||void 0,placeholder:f||void 0,autoFocus:h||!1,mode:p||void 0,optionFilterProp:Z||"children",allowClear:!0,style:{width:"100%"},children:g.map((function(e){return(0,s.jsx)(a.Z.Option,{value:e.value,title:e.title,children:e.label},e.value)}))})}))};d.defaultProps={layout:null,required:!1},n.Z=d},30513:function(e,n,t){var r=t(1413),i=t(59420),a=t(46937),o=t(43270),l=t(47313),u=t(49384),s=t(46417),d=function(e){var n=e.label,t=e.name,d=e.hint,c=e.layout,m=e.placeholder,f=e.autoFocus,g=e.autoComplete,p=e.prefix,h=e.required,x=e.rows,v=e.externalErrorMessage,Z=e.maxLength,b=(0,o.Gc)(),q=b.register,j=b.errors,y=b.formState,C=y.touched,w=y.isSubmitted,Y=b.setValue,I=b.watch,S=u.Z.errorMessage(t,j,C,w,v),M=I(t);return(0,l.useEffect)((function(){q({name:t})}),[q,t]),(0,s.jsx)(i.Z.Item,(0,r.Z)((0,r.Z)({},c),{},{label:n,required:h,validateStatus:S?"error":"success",help:S||d,children:(0,s.jsx)(a.Z.TextArea,{id:t,onChange:function(n){Y(t,n.target.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},maxLength:Z,value:M,placeholder:m||void 0,autoFocus:f||!1,autoComplete:g||void 0,prefix:p||void 0,rows:x,style:{width:"100%"}})}))};d.defaultProps={layout:null,required:!1,rows:4},n.Z=d},68160:function(e,n,t){t.d(n,{I4:function(){return o},YT:function(){return l}});var r,i=t(30168),a=t(44781).ZP.div(r||(r=(0,i.Z)(["\n  // padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n\n  // input {\n  //  font-variant: tabular-nums;\n  //   list-style: none;\n  //   font-feature-settings: 'tnum';\n  //   position: relative;\n  //   display: inline-block;\n  //   width: 100%;\n  //   min-width: 0;\n  //   padding: 4px 11px;\n  //   color: rgba(0, 0, 0, 0.65);\n  //   font-size: 14px;\n  //   line-height: 1.5715;\n  //   background-color: #fff;\n  //   background-image: none;\n  //   border: 1px solid #d9d9d9;\n  //   border-radius: 4px;\n  //   transition: all 0.3s;\n  // }\n"]))),o={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},l={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};n.ZP=a},75352:function(e,n,t){var r,i=t(30168),a=t(44781).ZP.h1(r||(r=(0,i.Z)(["\n  margin-bottom: 36px;\n"])));n.Z=a},10157:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r=t(29439),i=t(47313),a=t(45788),o=t(63830),l=t(10499),u=t(60436),s=t(76747),d=function(e){return e.statistics.form},c=(0,s.P1)([d],(function(e){return e.record})),m={selectInitLoading:(0,s.P1)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,s.P1)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:c,selectRaw:d},f=t(37670),g=t(1413),p=t(92350),h=t(12196),x=t(11829),v=t(68197),Z=t(59624),b=t(59420),q=t(96995),j=t(59491),y=t(43270),C=t(68160),w=t(6473),Y=t(89994),I=t(67357),S=t(56148),M=t(30513),k=t(5544),B=t(67693),D=t(70816),P=t.n(D),L=t(71896),F=t(75352),V=t(46417),E=w.Ry().shape({title:Y.Z.string((0,l.ag)("entities.statistics.fields.title"),{required:!0}),description:Y.Z.string((0,l.ag)("entities.statistics.fields.description"),{}),date:Y.Z.date((0,l.ag)("entities.statistics.fields.date"),{required:!0}),link:Y.Z.string((0,l.ag)("entities.statistics.fields.link"),{required:!0}),statut:Y.Z.enumerator((0,l.ag)("entities.statistics.fields.statut"),{options:B.Z.statut,required:!0}),category:Y.Z.enumerator((0,l.ag)("entities.statistics.fields.category"),{options:B.Z.category})}),T=function(e){var n=(0,i.useState)((function(){var n=e.record||{};return{title:n.title,description:n.description,date:n.date?P()(n.date,"YYYY-MM-DD"):P()(new Date,"YYYY-MM-DD"),statut:n.statut?n.statut:"en_attente",link:n.link,category:n.category}})),t=(0,r.Z)(n,1)[0],a=(0,y.cI)({resolver:(0,I.X)(E),mode:"all",defaultValues:t}),o=function(n){var t;e.onSubmit(null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.id,n)},u=e.saveLoading;return(0,V.jsx)(C.ZP,{children:(0,V.jsx)(y.RV,(0,g.Z)((0,g.Z)({},a),{},{children:(0,V.jsxs)("form",{onSubmit:a.handleSubmit(o),children:[(0,V.jsxs)(v.Z,{gutter:24,children:[(0,V.jsx)(Z.Z,{span:16,children:(0,V.jsx)(F.Z,{children:e.title})}),(0,V.jsx)(Z.Z,{span:8,style:{textAlign:"end",paddingLeft:"100px",paddingRight:"0px"},children:(0,V.jsxs)(b.Z.Item,(0,g.Z)((0,g.Z)({className:"form-buttons"},C.YT),{},{children:[(0,V.jsx)(q.Z,{title:(0,l.ag)("common.save"),children:(0,V.jsx)(j.Z,{loading:u,type:"primary",onClick:a.handleSubmit(o),icon:(0,V.jsx)(p.Z,{rev:void 0})})}),(0,V.jsx)(q.Z,{title:(0,l.ag)("common.reset"),children:(0,V.jsx)(j.Z,{disabled:u,onClick:function(){Object.keys(t).forEach((function(e){a.setValue(e,t[e])}))},icon:(0,V.jsx)(h.Z,{rev:void 0})})}),e.onCancel&&(0,V.jsx)(q.Z,{title:(0,l.ag)("common.cancel"),children:(0,V.jsx)(j.Z,{disabled:u,onClick:function(){return e.onCancel()},icon:(0,V.jsx)(x.Z,{rev:void 0})})})]}))})]}),(0,V.jsx)(v.Z,{gutter:24,children:(0,V.jsx)(Z.Z,{span:24,children:(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:(0,l.ag)("common.informations")}),(0,V.jsx)(S.Z,{name:"title",label:(0,l.ag)("entities.statistics.fields.title"),required:!0,layout:C.I4,autoFocus:!0}),(0,V.jsx)(M.Z,{name:"description",label:(0,l.ag)("entities.statistics.fields.description"),required:!1,layout:C.I4}),(0,V.jsx)(L.Z,{name:"date",label:(0,l.ag)("entities.statistics.fields.date"),required:!0,layout:C.I4}),(0,V.jsx)(S.Z,{name:"link",label:(0,l.ag)("entities.statistics.fields.link"),required:!0,layout:C.I4}),(0,V.jsx)(k.Z,{name:"statut",label:(0,l.ag)("entities.statistics.fields.statut"),options:B.Z.statut.map((function(e){return{value:e,label:(0,l.ag)("entities.statistics.enumerators.statut.".concat(e))}})),required:!0,layout:C.I4}),(0,V.jsx)(k.Z,{name:"category",label:(0,l.ag)("entities.statistics.fields.category"),options:B.Z.category.map((function(e){return{value:e,label:(0,l.ag)("entities.statistics.enumerators.category.".concat(e))}})),required:!1,layout:C.I4})]})})})]})}))})},R=t(27829),_=t(53852),H=t(61567),X=function(e){var n=(0,i.useState)(!1),t=(0,r.Z)(n,2),s=t[0],d=t[1],c=(0,a.I0)(),g=(0,o.$B)(),p=(0,a.v9)(m.selectInitLoading),h=(0,a.v9)(m.selectSaveLoading),x=(0,a.v9)(m.selectRecord),v=Boolean(g.params.id),Z=v?(0,l.ag)("entities.statistics.edit.title"):(0,l.ag)("entities.statistics.new.title");(0,i.useEffect)((function(){c(u.Z.doInit(g.params.id)),d(!0)}),[c,g.params.id]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(_.Z,{items:[[(0,l.ag)("dashboard.menu"),"/"],[(0,l.ag)("entities.statistics.menu"),"/statistics"],[Z]]}),(0,V.jsxs)(R.Z,{children:[p&&(0,V.jsx)(H.Z,{}),s&&!p&&(0,V.jsx)(T,{title:Z,saveLoading:h,record:x,isEditing:v,onSubmit:function(e,n){c(v?u.Z.doUpdate(e,n):u.Z.doCreate(n))},onCancel:function(){return(0,f.s1)().push("/statistics")}})]})]})}}}]);