"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[2517],{89994:function(n,e,r){var t=r(93433),i=r(6473),a=r(10499),u=r(70816),o=r.n(u),l={generic:function(n){return i.nK().label(n)},string:function(n,e){e=e||{};var r=i.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),e.matches&&(r=r.matches(e.matches)),r},boolean:function(n,e){return i.Xg().default(!1).label(n)},relationToOne:function(n,e){e=e||{};var r=i.nK().nullable(!0).label(n).transform((function(n,e){return e?e.id:null}));return e.required&&(r=r.required()),r},stringArray:function(n,e){e=e||{};var r=i.IX().compact().ensure().of(i.Z_().transform((function(n,e){return""===e?null:n})).trim()).label(n);return e.required&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},relationToMany:function(n,e){e=e||{};var r=i.IX().nullable(!0).label(n).transform((function(n,e){return e&&e.length?e.map((function(n){return n.id})):[]}));return e.required&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},integer:function(n,e){e=e||{};var r=i.Rx().transform((function(n,e){return""===e?null:n})).integer().nullable(!0).label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),r},images:function(n,e){e=e||{};var r=i.IX().nullable(!0).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},files:function(n,e){e=e||{};var r=i.IX().compact().ensure().nullable(!0).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},enumerator:function(n,e){e=e||{};var r=i.Z_().transform((function(n,e){return""===e?null:n})).label(n).nullable(!0).oneOf([null].concat((0,t.Z)(e.options||[])));return e.required&&(r=r.required((0,a.ag)("validation.string.selected"))),r},email:function(n,e){e=e||{};var r=i.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n).email();return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),e.matches&&(r=r.matches(e.matches)),r},decimal:function(n,e){e=e||{};var r=i.Rx().transform((function(n,e){return""===e?null:n})).nullable(!0).label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),r},datetime:function(n,e){e=e||{};var r=i.nK().nullable(!0).label(n).transform((function(n,e){return n?o()(e,"YYYY-MM-DD HH:mm").toISOString():null}));return e.required&&(r=r.required()),r},date:function(n,e){e=e||{};var r=i.nK().nullable(!0).label(n).test("is-date",(0,a.ag)("validation.mixed.default"),(function(n){return!n||o()(n,"YYYY-MM-DD").isValid()})).transform((function(n){return n?o()(n).format("YYYY-MM-DD"):null}));return e.required&&(r=r.required()),r}};e.Z=l},27829:function(n,e,r){var t,i=r(30168),a=r(44781).ZP.div(t||(t=(0,i.Z)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"])));e.Z=a},53852:function(n,e,r){var t=r(28709),i=(r(47313),r(28303)),a=r(46417);e.Z=function(n){var e=function(n){return n.length>1};return(0,a.jsx)(t.Z,{children:n.items.map((function(n){return(0,a.jsx)(t.Z.Item,{children:e(n)?(0,a.jsx)(i.rU,{to:n[1],children:n[0]}):n[0]},n[0])}))})}},61567:function(n,e,r){var t=r(72652),i=(r(47313),r(46417));e.Z=function(n){return(0,i.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,i.jsx)(t.Z,{})})}},49384:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(15671),i=r(43144),a=function(){function n(){(0,t.Z)(this,n)}return(0,i.Z)(n,null,[{key:"errorMessage",value:function(n,e,r,t){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(a)return a;if(!t&&!r[n])return null;var u=e[n];return(null===u||void 0===u||null===(i=u[0])||void 0===i?void 0:i.message)||(null===u||void 0===u?void 0:u.message)||u||null}}]),n}()},51552:function(n,e,r){var t=r(1413),i=r(74165),a=r(15861),u=r(29439),o=r(82138),l=r(61143),s=r(59420),c=r(59491),d=r(65375),f=r.n(d),m=r(47313),p=r(10499),h=r(49384),v=r(65237),x=r(43270),g=r(46417),b=function(n){var e=(0,x.Gc)(),r=e.errors,d=e.watch,b=e.setValue,Z=e.register,y=e.formState,q=y.touched,w=y.isSubmitted,C=n.label,k=n.name,S=n.hint,M=n.layout,j=n.size,I=n.placeholder,B=n.autoFocus,F=n.externalErrorMessage,L=n.defaultActiveFirstOption,Y=n.allowClear,D=n.mode,A=n.required,V=n.fetchFn,E=n.mapper,O=d(k);(0,m.useEffect)((function(){Z({name:k})}),[Z,k]);var P=(0,m.useState)([]),T=(0,u.Z)(P,2),_=T[0],R=T[1],z=(0,m.useState)([]),X=(0,u.Z)(z,2),K=X[0],G=X[1],H=(0,m.useState)([]),N=(0,u.Z)(H,2),U=N[0],$=N[1],J=(0,m.useState)(!1),Q=(0,u.Z)(J,2),W=Q[0],nn=Q[1],en=(0,m.useRef)("NOT_INITIALIZED");(0,m.useEffect)((function(){rn()}),[O]),(0,m.useEffect)((function(){sn("")}),[]);var rn=function(){if(O){var n=("multiple"===D?O:[O])||[];n=n.filter(Boolean).map(E.toAutocomplete).map((function(n){return{id:n.key,label:n.label}})),G((function(e){return f()(e,n,"id")})),R((function(e){return f()(e,n,"id")}))}},tn=n.inMemoryFilter?K:_,an=function(n){return(tn||[]).find((function(e){return e.id===n.key}))||n},un="multiple"===D?O?O.map((function(n){return E.toAutocomplete(an(n))})):[]:function(){if(O)return E.toAutocomplete(an(O))}(),on=function(e){if(!e)return b(k,[],{shouldValidate:!0,shouldDirty:!0}),void(n.onChange&&n.onChange([]));var r=e.map((function(n){return E.toValue(n)}));b(k,r,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(r)},ln=function(e){if(!e)return b(k,null,{shouldValidate:!0,shouldDirty:!0}),void(n.onChange&&n.onChange(null));var r=E.toValue(e);b(k,r,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(r)},sn=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.inMemoryFilter){e.next=2;break}return e.abrupt("return",cn(r));case 2:return e.abrupt("return",fn(r));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),cn=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(e){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=U)&&r.length){n.next=5;break}return n.next=4,dn();case 4:r=n.sent;case 5:G(r.filter((function(n){return String(n.label||"").toLowerCase().includes(String(e||"").toLowerCase())}))),nn(!1);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),dn=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return nn(!0),n.prev=1,n.next=4,V();case 4:return e=n.sent,$(e),nn(!1),n.abrupt("return",e);case 10:return n.prev=10,n.t0=n.catch(1),console.error(n.t0),$([]),nn(!1),n.abrupt("return",[]);case 16:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}(),fn=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(e){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==en.current){n.next=2;break}return n.abrupt("return");case 2:return en.current=e,nn(!0),n.prev=4,n.next=7,V(e,100);case 7:r=n.sent,en.current===e&&(nn(!1),R(r)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),console.error(n.t0),en.current===e&&(nn(!1),R([]));case 15:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}(),mn=(0,v.Z)(sn,300);(0,m.useEffect)((function(){return function(){mn.flush()}}),[mn]);var pn=tn.filter((function(n){return Boolean(n.id)})).map((function(n){return(0,g.jsx)(l.Z.Option,{value:n.id,children:n.label},n.id)})),hn=h.Z.errorMessage(k,r,q,w,F);return(0,g.jsx)(s.Z.Item,(0,t.Z)((0,t.Z)({},M),{},{label:C,required:A,validateStatus:hn?"error":"success",help:W?(0,p.ag)("autocomplete.loading"):hn||S,children:(0,g.jsxs)("div",{style:{display:"flex"},children:[(0,g.jsx)(l.Z,{id:k,showSearch:!0,mode:D,labelInValue:!0,showArrow:!1,filterOption:!1,notFoundContent:null,onChange:function(n){return"multiple"===D?on(n):ln(n)},onBlur:function(e){n.onBlur&&n.onBlur(e)},value:un,onSearch:mn.callback,placeholder:I||void 0,size:j||void 0,autoFocus:B||!1,defaultActiveFirstOption:L,allowClear:Y,children:pn}),n.showCreate&&n.hasPermissionToCreate?(0,g.jsx)(c.Z,{style:{marginLeft:"16px",flexShrink:0},type:"primary",icon:(0,g.jsx)(o.Z,{rev:void 0}),onClick:n.onOpenModal,htmlType:"button"}):null]})}))};b.defaultProps={layout:null,defaultActiveFirstOption:!0,allowClear:!0,mode:"default",required:!1,inMemoryFilter:!1},e.Z=b},56148:function(n,e,r){var t=r(1413),i=r(59420),a=r(46937),u=r(43270),o=r(47313),l=r(49384),s=r(46417),c=function(n){var e=n.label,r=n.name,c=n.hint,d=n.layout,f=n.size,m=n.type,p=n.placeholder,h=n.autoFocus,v=n.autoComplete,x=n.prefix,g=n.externalErrorMessage,b=n.required,Z=n.addonAfter,y=n.maxLength,q=(0,u.Gc)(),w=q.setValue,C=q.watch,k=q.register,S=q.errors,M=q.formState,j=M.touched,I=M.isSubmitted;(0,o.useEffect)((function(){k({name:r})}),[k,r]);var B=l.Z.errorMessage(r,S,j,I,g);return(0,s.jsx)(i.Z.Item,(0,t.Z)((0,t.Z)({},d),{},{label:e,required:b,validateStatus:B?"error":"success",help:B||c,children:(0,s.jsx)(a.Z,{maxLength:y,id:r,name:r,type:m,value:C(r),onChange:function(e){w(r,e.target.value,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(e.target.value)},onBlur:function(e){n.onBlur&&n.onBlur(e)},size:f||void 0,placeholder:p||void 0,autoFocus:h||!1,autoComplete:v||void 0,prefix:x||void 0,addonAfter:Z||void 0,style:{width:"100%"}})}))};c.defaultProps={layout:null,type:"text",required:!1},e.Z=c},68160:function(n,e,r){r.d(e,{I4:function(){return u},YT:function(){return o}});var t,i=r(30168),a=r(44781).ZP.div(t||(t=(0,i.Z)(["\n  // padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-form-item-with-help {\n    margin-bottom: 24px;\n  }\n\n  .form-buttons {\n    .ant-btn {\n      margin-top: 8px;\n      margin-right: 8px;\n    }\n  }\n\n  // input {\n  //  font-variant: tabular-nums;\n  //   list-style: none;\n  //   font-feature-settings: 'tnum';\n  //   position: relative;\n  //   display: inline-block;\n  //   width: 100%;\n  //   min-width: 0;\n  //   padding: 4px 11px;\n  //   color: rgba(0, 0, 0, 0.65);\n  //   font-size: 14px;\n  //   line-height: 1.5715;\n  //   background-color: #fff;\n  //   background-image: none;\n  //   border: 1px solid #d9d9d9;\n  //   border-radius: 4px;\n  //   transition: all 0.3s;\n  // }\n"]))),u={labelCol:{xs:{span:24},sm:{span:24},md:{span:6},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:12}}},o={wrapperCol:{md:{span:18,offset:6},lg:{span:12,offset:4}}};e.ZP=a},75352:function(n,e,r){var t,i=r(30168),a=r(44781).ZP.h1(t||(t=(0,i.Z)(["\n  margin-bottom: 36px;\n"])));e.Z=a},6925:function(n,e,r){r.r(e),r.d(e,{default:function(){return b}});var t=r(29439),i=r(47313),a=r(45788),u=r(63830),o=r(10499),l=r(89298),s=r(76747),c=function(n){return n.typeMedia.form},d=(0,s.P1)([c],(function(n){return n.record})),f={selectInitLoading:(0,s.P1)([c],(function(n){return Boolean(n.initLoading)})),selectSaveLoading:(0,s.P1)([c],(function(n){return Boolean(n.saveLoading)})),selectRecord:d,selectRaw:c},m=r(37670),p=r(80459),h=r(27829),v=r(53852),x=r(61567),g=r(46417),b=function(n){var e=(0,i.useState)(!1),r=(0,t.Z)(e,2),s=r[0],c=r[1],d=(0,a.I0)(),b=(0,u.$B)(),Z=(0,a.v9)(f.selectInitLoading),y=(0,a.v9)(f.selectSaveLoading),q=(0,a.v9)(f.selectRecord),w=Boolean(b.params.id),C=w?(0,o.ag)("entities.typeMedia.edit.title"):(0,o.ag)("entities.typeMedia.new.title");(0,i.useEffect)((function(){d(l.Z.doInit(b.params.id)),c(!0)}),[d,b.params.id]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{items:[[(0,o.ag)("dashboard.menu"),"/"],[(0,o.ag)("entities.typeMedia.menu"),"/type-media"],[C]]}),(0,g.jsxs)(h.Z,{children:[Z&&(0,g.jsx)(x.Z,{}),s&&!Z&&(0,g.jsx)(p.Z,{title:C,saveLoading:y,record:q,isEditing:w,onSubmit:function(n,e){d(w?l.Z.doUpdate(n,e):l.Z.doCreate(e))},onCancel:function(){return(0,m.s1)().push("/type-media")}})]})]})}}}]);