"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[3766],{39781:function(e,t,i){var n={selectLoading:(0,i(76747).P1)([function(e){return e.mediatique.destroy}],(function(e){return Boolean(e.loading)}))};t.Z=n},8452:function(e,t,i){var n=i(76747),r=i(86495),s=i(26319),a=i(71945),l=(0,n.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(a.Z.values.mediatiqueRead)})),o=(0,n.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(a.Z.values.mediatiqueEdit)})),d=(0,n.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(a.Z.values.mediatiqueCreate)})),c=(0,n.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(a.Z.values.mediatiqueImport)})),u={selectPermissionToRead:l,selectPermissionToEdit:o,selectPermissionToCreate:d,selectPermissionToDestroy:(0,n.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(a.Z.values.mediatiqueDestroy)})),selectPermissionToImport:c};t.Z=u},53766:function(e,t,i){i.r(t),i.d(t,{default:function(){return Q}});var n=i(47313),r=i(10499),s=i(1413),a=i(29439),l=i(40765),o=i(12196),d=i(68197),c=i(59624),u=i(59491),m=i(43270),Z=i(45788),g=i(51154),f=i(87620),h=i(69138),x=i(6473),p=i(47590),j=i(67357),v=i(13586),y=i(40846),q=i(35432),R=i(56148),b=i(5544),C=i(40358),T=i(46417),w=x.Ry().shape({titleFR:p.Z.string((0,r.ag)("entities.mediatique.fields.title")),descriptionFR:p.Z.string((0,r.ag)("entities.mediatique.fields.description")),titleAR:p.Z.string((0,r.ag)("entities.mediatique.fields.title")),descriptionAR:p.Z.string((0,r.ag)("entities.mediatique.fields.description")),titleEN:p.Z.string((0,r.ag)("entities.mediatique.fields.title")),descriptionEN:p.Z.string((0,r.ag)("entities.mediatique.fields.description")),type:p.Z.enumerator((0,r.ag)("entities.mediatique.fields.type"))}),P={titleFR:null,descriptionFR:null,titleAR:null,descriptionAR:null,titleEN:null,descriptionEN:null,type:null},S={titleFR:{label:(0,r.ag)("entities.mediatique.fields.title"),render:y.Z.generic()},descriptionFR:{label:(0,r.ag)("entities.mediatique.fields.description"),render:y.Z.generic()},titleAR:{label:(0,r.ag)("entities.mediatique.fields.title"),render:y.Z.generic()},descriptionAR:{label:(0,r.ag)("entities.mediatique.fields.description"),render:y.Z.generic()},titleEN:{label:(0,r.ag)("entities.mediatique.fields.title"),render:y.Z.generic()},descriptionEN:{label:(0,r.ag)("entities.mediatique.fields.description"),render:y.Z.generic()},type:{label:(0,r.ag)("entities.mediatique.fields.type"),render:y.Z.enumerator("entities.mediatique.enumerators.type")}},E=function(e){var t=(0,Z.I0)(),i=(0,Z.v9)(f.Z.selectRawFilter),x=(0,n.useState)(!1),p=(0,a.Z)(x,2),y=p[0],E=p[1],F=(0,n.useState)((function(){return(0,s.Z)((0,s.Z)({},P),i)})),N=(0,a.Z)(F,1)[0],I=(0,m.cI)({resolver:(0,j.X)(w),defaultValues:N,mode:"all"});(0,n.useEffect)((function(){t(g.Z.doFetch(w.cast(N),i))}),[]);var A=function(e){var i=I.getValues();t(g.Z.doFetch(e,i)),E(!1)},U=e.loading;return(0,T.jsx)(h.Z,{children:(0,T.jsx)(q.Z,{activeKey:y?"filter":void 0,expandIconPosition:"right",ghost:!0,onChange:function(e){E(Boolean(e.length))},children:(0,T.jsx)(q.Z.Panel,{style:{marginTop:"10px",marginBottom:"10px"},header:(0,T.jsx)(v.Z,{renders:S,values:i,expanded:y,onRemove:function(e){return I.setValue(e,P[e]),I.handleSubmit(A)()}}),children:(0,T.jsx)(m.RV,(0,s.Z)((0,s.Z)({},I),{},{children:(0,T.jsxs)("form",{onSubmit:I.handleSubmit(A),children:[(0,T.jsxs)(d.Z,{gutter:24,children:[(0,T.jsx)(c.Z,{xs:24,md:24,lg:12,children:(0,T.jsx)(R.Z,{name:"titleFR",label:(0,r.ag)("entities.mediatique.fields.titleFR"),layout:h.T})}),(0,T.jsx)(c.Z,{xs:24,md:24,lg:12,children:(0,T.jsx)(R.Z,{name:"titleAR",label:(0,r.ag)("entities.mediatique.fields.titleAR"),layout:h.T})}),(0,T.jsx)(c.Z,{xs:24,md:24,lg:12,children:(0,T.jsx)(R.Z,{name:"titleEN",label:(0,r.ag)("entities.mediatique.fields.titleEN"),layout:h.T})}),(0,T.jsx)(c.Z,{xs:24,md:24,lg:12,children:(0,T.jsx)(b.Z,{name:"type",label:(0,r.ag)("entities.mediatique.fields.type"),options:C.Z.type.map((function(e){return{value:e,label:(0,r.ag)("entities.mediatique.enumerators.type.".concat(e))}})),layout:h.T})})]}),(0,T.jsx)(d.Z,{children:(0,T.jsxs)(c.Z,{className:"filter-buttons",span:24,children:[(0,T.jsx)(u.Z,{loading:U,icon:(0,T.jsx)(l.Z,{rev:void 0}),type:"primary",htmlType:"submit",children:(0,r.ag)("common.search")}),(0,T.jsx)(u.Z,{loading:U,onClick:function(){Object.keys(P).forEach((function(e){I.setValue(e,P[e])})),t(g.Z.doReset()),E(!1)},icon:(0,T.jsx)(o.Z,{rev:void 0}),children:(0,r.ag)("common.reset")})]})})]})}))},"filter")})})},F=i(96995),N=i(4927),I=i(72641),A=i(20402),U=i(39781),k=i(8452),D=i(28303),L=i(27216),V=i(82509),B=i(424),K=i(61850),z=function(e){var t=(0,Z.I0)(),i=(0,Z.v9)(f.Z.selectLoading),n=(0,Z.v9)(U.Z.selectLoading),s=i||n,a=(0,Z.v9)(f.Z.selectRows),l=(0,Z.v9)(f.Z.selectPagination),o=(0,Z.v9)(f.Z.selectSelectedKeys),d=(0,Z.v9)(k.Z.selectPermissionToEdit),c=(0,Z.v9)(k.Z.selectPermissionToDestroy),u=[{title:(0,r.ag)("entities.mediatique.fields.titleFR"),sorter:!1,dataIndex:"titleFR"},{title:(0,r.ag)("entities.mediatique.fields.titleAR"),sorter:!1,dataIndex:"titleAR"},{title:(0,r.ag)("entities.mediatique.fields.titleEN"),sorter:!1,dataIndex:"titleEN"},{title:(0,r.ag)("entities.mediatique.fields.type"),sorter:!0,dataIndex:"type",render:function(e){return e?(0,r.ag)("entities.mediatique.enumerators.type.".concat(e)):null}},{title:(0,r.ag)("entities.mediatique.fields.photos"),sorter:!1,dataIndex:"photos",render:function(e){return(0,T.jsx)(B.Z,{value:e})}},{title:(0,r.ag)("entities.mediatique.fields.videos"),sorter:!1,dataIndex:"videos",render:function(e){return(0,T.jsx)(K.Z,{value:e})}},{title:(0,r.ag)("entities.mediatique.fields.attachements"),sorter:!1,dataIndex:"attachements",render:function(e){return(0,T.jsx)(K.Z,{value:e})}},{title:"",dataIndex:"",width:"160px",render:function(e,i){return(0,T.jsxs)("div",{className:"table-actions",children:[(0,T.jsx)(D.rU,{to:"/mediatique/".concat(i.id),children:(0,T.jsx)(F.Z,{title:(0,r.ag)("common.view"),children:(0,T.jsx)("i",{className:"fa-regular fa-eye table-actions-icon"})})}),d&&(0,T.jsx)(D.rU,{to:"/mediatique/".concat(i.id,"/edit"),children:(0,T.jsx)(F.Z,{title:(0,r.ag)("common.edit"),children:(0,T.jsx)("i",{className:"fa-regular fa-pen-to-square table-actions-icon"})})}),c&&(0,T.jsx)(N.Z,{title:(0,r.ag)("common.areYouSure"),onConfirm:function(){return e=i.id,void t(A.Z.doDestroy(e));var e},okText:(0,r.ag)("common.yes"),cancelText:(0,r.ag)("common.no"),children:(0,T.jsx)(V.Z,{children:(0,T.jsx)(F.Z,{title:(0,r.ag)("common.destroy"),children:(0,T.jsx)("i",{className:"fa-regular fa-trash-can table-actions-icon-destroy"})})})})]})}}];return(0,T.jsx)(L.Z,{children:(0,T.jsx)(I.Z,{rowKey:"id",loading:s,columns:u,dataSource:a,pagination:l,onChange:function(e,i,n){t(g.Z.doChangePaginationAndSort(e,n))},rowSelection:{selectedRowKeys:o,onChange:function(e){t(g.Z.doChangeSelected(e))}},scroll:{x:!0}})})},M=i(10419),O=i(23516),Y=i(17551),_=i(46937).Z.Search,G=function(e){var t=(0,Z.I0)(),i=(0,Z.v9)(f.Z.selectSelectedKeys),n=(0,Z.v9)(f.Z.selectLoading),s=(0,Z.v9)(U.Z.selectLoading),a=((0,Z.v9)(f.Z.selectExportLoading),(0,Z.v9)(f.Z.selectHasRows),(0,Z.v9)(O.Z.selectPermissionToRead)),l=(0,Z.v9)(k.Z.selectPermissionToDestroy),o=(0,Z.v9)(k.Z.selectPermissionToCreate);(0,Z.v9)(k.Z.selectPermissionToImport);return(0,T.jsxs)(M.Z,{children:[o&&(0,T.jsx)(D.rU,{to:"/mediatique/new",children:(0,T.jsx)(F.Z,{title:(0,r.ag)("common.new"),children:(0,T.jsx)(u.Z,{type:"primary",children:(0,T.jsx)("i",{className:"fa-regular fa-square-plus"})})})}),function(){if(!l)return null;var e=!i.length||n,a=(0,T.jsx)(u.Z,{disabled:e,loading:s,type:"primary",children:(0,T.jsx)("i",{className:"fa-regular fa-trash-can"})}),o=(0,T.jsx)(N.Z,{title:(0,r.ag)("common.areYouSure"),onConfirm:function(){t(A.Z.doDestroyAll(i))},okText:(0,r.ag)("common.yes"),cancelText:(0,r.ag)("common.no"),children:a});return e?(0,T.jsx)(F.Z,{title:(0,r.ag)("common.mustSelectARow"),children:a}):(0,T.jsx)(F.Z,{title:(0,r.ag)("common.destroy"),children:o})}(),a&&(0,T.jsx)(D.rU,{to:"/audit-logs?entityNames=mediatique",children:(0,T.jsx)(F.Z,{title:(0,r.ag)("auditLog.menu"),children:(0,T.jsx)(u.Z,{icon:(0,T.jsx)(Y.Z,{rev:void 0})})})}),void 0,(0,T.jsx)(_,{placeholder:(0,r.ag)("common.search"),onSearch:function(e){t(g.Z.doSearch(e))},style:{width:"auto"}})]})},H=i(27829),X=i(53852),J=i(75352),Q=function(e){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(X.Z,{items:[[(0,r.ag)("dashboard.menu"),"/"],[(0,r.ag)("entities.mediatique.menu")]]}),(0,T.jsxs)(H.Z,{children:[(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(c.Z,{span:16,children:(0,T.jsx)(J.Z,{children:(0,r.ag)("entities.mediatique.list.title")})}),(0,T.jsx)(c.Z,{span:8,style:{textAlign:"end"},children:(0,T.jsx)(G,{})})]}),(0,T.jsx)(E,{}),(0,T.jsx)(z,{})]})]})}},5544:function(e,t,i){var n=i(1413),r=i(59420),s=i(61143),a=i(47313),l=i(49384),o=i(43270),d=i(46417),c=function(e){var t=e.label,i=e.name,c=e.hint,u=e.layout,m=e.size,Z=e.placeholder,g=e.options,f=e.mode,h=e.autoFocus,x=e.required,p=e.externalErrorMessage,j=e.optionFilterProp,v=(0,o.Gc)(),y=v.register,q=v.errors,R=v.formState,b=R.touched,C=R.isSubmitted,T=v.setValue,w=v.watch,P=l.Z.errorMessage(i,q,b,C,p),S=w(i);return(0,a.useEffect)((function(){y({name:i})}),[y,i]),(0,d.jsx)(r.Z.Item,(0,n.Z)((0,n.Z)({},u),{},{label:t,validateStatus:P?"error":"success",required:x,help:P||c,children:(0,d.jsx)(s.Z,{id:i,onChange:function(t){T(i,t,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:S,size:m||void 0,placeholder:Z||void 0,autoFocus:h||!1,mode:f||void 0,optionFilterProp:j||"children",allowClear:!0,style:{width:"100%"},children:g.map((function(e){return(0,d.jsx)(s.Z.Option,{value:e.value,title:e.title,children:e.label},e.value)}))})}))};c.defaultProps={layout:null,required:!1},t.Z=c},424:function(e,t,i){var n=i(72123),r=(i(47313),i(46417));t.Z=function(e){var t=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]};if(!t().length||!t()[0].downloadUrl)return(0,r.jsx)(n.C,{shape:"square",size:"large",icon:e.icon});var i=t()[0].downloadUrl;return(0,r.jsx)(n.C,{shape:"square",size:"large",src:i})}}}]);